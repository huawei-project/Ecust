# 1. 数据目录结构
```
[1-80]                                  # 人员标签
    ├── multi/                          # 多光谱
    │   └── illum[1-3]/, normal/        # 干扰 `1-3`，无干扰
    │       ├── Multi_[1-7]_W1_1/       # 位置 `1-7`        无眼镜      每个位置目录下包括四个照片目录
    │       │   └── [1-4]/              #                              每个目录下包括25张图片文件
    │       │       └── [1-25].jpg
    │       ├── Multi_4_W1_6            # 位置 `4`          墨镜        目录下包括四个照片目录
    │       │   └── [1-4]/              #                              每个目录下包括25张图片文件
    │       │       └── [1-25].jpg
    │       └── Multi_[1-7]_W1_5        # 位置 `1-7`        眼镜        每个目录下包括25张图片文件， 部分人员无眼镜，即无该目录
    │           └── [1-25].jpg        
    └── rgb                             # 可见光
        └── illum[1-3]/, normal/        # 干扰 `1-3`，无干扰
            ├── RGB_[1-7]_W1_1/         # 位置 `1-7`        无眼镜      每个位置目录下包括四张照片文件
            │   └── [1-4].jpg
            ├── RGB_4_W1_6/             # 位置 `4`          墨镜        目录下包括四张照片文件
            │   └── [1-4].jpg
            └── RGB_[1-7]_W1_5.jpg      # 位置 `1-7`        眼镜        部分人员无眼镜，即无该图片
```

# 2. 实验

``` python
def get_configer(n_epoch=150, stepsize=120, batchsize=2**5, lrbase=5e-4, gamma=0.2,cuda=True, 
                dsize=(112//2, 96//2), n_channel=25, n_class=80, 
                datatype='Multi', usedChannels=[i+1 for i in range(25)], 
                splitratio=[0.6, 0.2, 0.2], splitcount=1, 
                modelbase= 'recognize_vgg11_bn', 
                datapath = '/datasets/Indoordetect', savepath = 'checkpoints', 
                hist=False, training_no_glass=True):
```

- 图片尺寸为`(112//2, 96//2)`； 
- 无直方图均衡化；
- 训练数据仅包含无眼镜数据；

## 3.1 划分比例的确定

> 确定在何种划分下进行实验，后续实验均以此结果为标准。

- 划分方式与上阶段一致，在每人的数据中，保留`Multi`与`RGB`同时检测出的图片路径，打乱后按一定比例划分；
- 本次实验划分时不做特殊处理，若需要其中指定条件的数据，可在`RecognizeDataset`中指定筛选条件`condition`；

运行
``` shell
python gen_split.py

[split_112x96_[0.10:0.70:0.20]_[1]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[2]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[3]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[4]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[5]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[6]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[7]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[8]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[9]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.10:0.70:0.20]_[10]] n_items: 3288, n_train: 318, n_valid: 2280, n_test: 690, ratio: 0.097: 0.693: 0.210
[split_112x96_[0.20:0.60:0.20]_[1]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[2]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[3]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[4]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[5]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[6]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[7]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[8]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[9]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.20:0.60:0.20]_[10]] n_items: 3288, n_train: 636, n_valid: 1962, n_test: 690, ratio: 0.193: 0.597: 0.210
[split_112x96_[0.30:0.50:0.20]_[1]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[2]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[3]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[4]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[5]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[6]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[7]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[8]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[9]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.30:0.50:0.20]_[10]] n_items: 3288, n_train: 954, n_valid: 1644, n_test: 690, ratio: 0.290: 0.500: 0.210
[split_112x96_[0.40:0.40:0.20]_[1]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[2]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[3]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[4]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[5]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[6]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[7]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[8]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[9]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.40:0.40:0.20]_[10]] n_items: 3288, n_train: 1272, n_valid: 1272, n_test: 744, ratio: 0.387: 0.387: 0.226
[split_112x96_[0.50:0.30:0.20]_[1]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[2]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[3]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[4]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[5]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[6]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[7]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[8]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[9]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.50:0.30:0.20]_[10]] n_items: 3288, n_train: 1644, n_valid: 954, n_test: 690, ratio: 0.500: 0.290: 0.210
[split_112x96_[0.60:0.20:0.20]_[1]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[2]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[3]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[4]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[5]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[6]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[7]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[8]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[9]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.60:0.20:0.20]_[10]] n_items: 3288, n_train: 1962, n_valid: 610, n_test: 716, ratio: 0.597: 0.186: 0.218
[split_112x96_[0.70:0.10:0.20]_[1]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[2]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[3]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[4]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[5]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[6]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[7]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[8]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[9]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218
[split_112x96_[0.70:0.10:0.20]_[10]] n_items: 3288, n_train: 2280, n_valid: 292, n_test: 716, ratio: 0.693: 0.089: 0.218

...

[split_112x96_[0.60:0.20:0.20]_[1]] n_items: 3796, n_train: 2263, n_valid: 704, n_test: 829, ratio: 0.596: 0.185: 0.218
...

[split_112x96_[0.70:0.10:0.20]_[1]] n_items: 3796, n_train: 2633, n_valid: 334, n_test: 829, ratio: 0.694: 0.088: 0.218
...
```

在当前目录下，生成文件夹`split`，其目录结构如下
```
split
└── split_112x96_[比例]_[划分计数]
    ├── note.txt
    ├── test_Multi.txt
    ├── test_RGB.txt
    ├── train_Multi.txt
    ├── train_RGB.txt
    ├── valid_Multi.txt
    └── valid_RGB.txt
```

其中比例形式为`训练集：验证集：测试集`，划分计数为1~5。

- 各比例下进行10次随机划分，依次在比例为以下情况时进行实验；
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_1
>>> main_3_1()      # 训练、测试
>>> main_3_1(True)  # 输出文件到`images`
```

### Multi

acc
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 0.4006 | 0.5371 | 0.7484000000000001 | 0.7552 | 0.7694 | 0.7676999999999999 | 0.7939 |
| 2 | 0.4252 | 0.6689 | 0.8131 | 0.7995 | 0.7576999999999999 | 0.8101999999999999 | 0.8347 |
| 3 | 0.258 | 0.3985 | 0.6829000000000001 | 0.8008 | 0.8344 | 0.7826000000000001 | 0.8057 |
| 4 | 0.4705 | 0.5896 | 0.7687999999999999 | 0.7943000000000001 | 0.8291 | 0.7798999999999999 | 0.8084 |
| 5 | 0.1323 | 0.7003 | 0.6675 | 0.7656000000000001 | 0.8089 | 0.7745000000000001 | 0.8234 |
| 6 | 0.4901 | 0.5909 | 0.8184999999999999 | 0.7917000000000001 | 0.7737 | 0.8125 | 0.8216 |
| 7 | 0.2898 | 0.2672 | 0.6990000000000001 | 0.7448 | 0.7559999999999999 | 0.8332999999999999 | 0.7957 |
| 8 | 0.3766 | 0.667 | 0.6645 | 0.8020999999999999 | 0.7857999999999999 | 0.8139 | 0.7962 |
| 9 | 0.32799999999999996 | 0.6491 | 0.7884 | 0.7148 | 0.8426 | 0.7354999999999999 | 0.7468 |
| 10 | 0.16620000000000001 | 0.5136 | 0.6864 | 0.7513 | 0.7876000000000001 | 0.8025 | 0.8089 |
| average | 0.33372999999999997 | 0.55822 | 0.73375 | 0.7720100000000001 | 0.7945200000000001 | 0.7912600000000001 | 0.8035300000000001 |

loss
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 2.3718 | 2.0779 | 1.3379 | 2.1081 | 2.6441 | 2.8747 | 3.0128 |
| 2 | 6.6673 | 2.1367 | 1.1372 | 1.8289 | 2.1626 | 2.6618 | 2.4152 |
| 3 | 3.0074 | 2.4302 | 2.3166 | 1.3939 | 0.8713 | 2.0165 | 4.1716 |
| 4 | 2.3501 | 1.5925 | 1.9336 | 1.6408 | 1.44 | 2.9868 | 1.7143 |
| 5 | 3.2784 | 1.2898 | 3.5962 | 2.2687 | 3.0388 | 3.4168 | 1.6621 |
| 6 | 2.4617 | 3.5302 | 1.08 | 1.0784 | 2.4738 | 1.8175 | 2.3089 |
| 7 | 2.9264 | 2.3548 | 2.1615 | 2.2002 | 3.2647 | 1.3199 | 3.1627 |
| 8 | 2.9193 | 1.5234 | 1.8949 | 1.7263 | 2.839 | 1.9334 | 3.1996 |
| 9 | 2.6655 | 2.0709 | 1.4401 | 2.7989 | 1.1731 | 7.6346 | 3.8065 |
| 10 | 3.2275 | 2.1809 | 2.4369 | 1.8952 | 1.6318 | 1.5055 | 1.9831 |
| average | 3.1875400000000003 | 2.1187300000000002 | 1.9334900000000002 | 1.8939400000000002 | 2.15392 | 2.81675 | 2.74368 |

作图如下
![图3.1.1](images/3_1_<figure>_[Multi].png)

### RGB

acc
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 0.1818 | 0.45409999999999995 | 0.5390999999999999 | 0.5625 | 0.6692 | 0.6807 | 0.7523000000000001 |
| 2 | 0.2159 | 0.2992 | 0.5455 | 0.6758 | 0.7004 | 0.7038 | 0.7409 |
| 3 | 0.0604 | 0.23989999999999997 | 0.5533 | 0.6536 | 0.6578 | 0.7111 | 0.7609 |
| 4 | 0.163 | 0.3651 | 0.45880000000000004 | 0.6354 | 0.6901999999999999 | 0.6960999999999999 | 0.6911 |
| 5 | 0.2164 | 0.35340000000000005 | 0.5215 | 0.6548999999999999 | 0.6461 | 0.7301000000000001 | 0.7545000000000001 |
| 6 | 0.0682 | 0.3643 | 0.47979999999999995 | 0.6445000000000001 | 0.6561 | 0.7437 | 0.7323000000000001 |
| 7 | 0.1349 | 0.1378 | 0.5306000000000001 | 0.6263000000000001 | 0.6826000000000001 | 0.74 | 0.6829999999999999 |
| 8 | 0.1943 | 0.4485 | 0.5466 | 0.569 | 0.7151000000000001 | 0.6644 | 0.7395999999999999 |
| 9 | 0.18309999999999998 | 0.2525 | 0.5215 | 0.5104 | 0.6959000000000001 | 0.6729999999999999 | 0.7645000000000001 |
| 10 | 0.2352 | 0.307 | 0.25730000000000003 | 0.6496999999999999 | 0.7413 | 0.7432 | 0.7278 |
| average | 0.16532 | 0.32218 | 0.49539999999999995 | 0.6182099999999999 | 0.68547 | 0.70861 | 0.7346900000000001 |

loss
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 3.6142 | 2.8417 | 3.9562 | 2.9158 | 2.2525 | 2.6159 | 3.2815 |
| 2 | 3.6711 | 3.6685 | 3.2148 | 2.2747 | 3.75 | 2.6284 | 2.7587 |
| 3 | 4.1017 | 3.215 | 4.7634 | 3.1522 | 4.2158 | 2.0402 | 2.2698 |
| 4 | 3.2395 | 3.1684 | 3.6697 | 3.3027 | 2.25 | 3.2328 | 2.5595 |
| 5 | 3.3954 | 3.6957 | 4.3968 | 2.3015 | 4.0876 | 2.6041 | 2.8131 |
| 6 | 3.7656 | 4.4258 | 2.9159 | 2.5114 | 3.9602 | 2.2778 | 4.0425 |
| 7 | 3.5288 | 3.5039 | 3.1417 | 4.694 | 3.1303 | 2.8276 | 2.2502 |
| 8 | 3.4957 | 4.4873 | 2.9926 | 3.9175 | 2.4448 | 2.8804 | 3.8945 |
| 9 | 3.6652 | 3.2843 | 3.8952 | 2.2691 | 3.2769 | 2.3225 | 2.9258 |
| 10 | 3.2807 | 3.6312 | 2.8551 | 3.0446 | 2.6778 | 1.9933 | 2.433 |
| average | 3.57579 | 3.59218 | 3.58014 | 3.0383500000000003 | 3.2045900000000005 | 2.5423 | 2.92286 |

作图如下
![图3.1.2](images/3_1_<figure>_[RGB].png)

可知比例为`0.60: 0.20: 0.2`时，效果最佳。

## 3.2 波段对比实验

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 依次选择单个波段的数据进行实验；
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_2
>>> main_3_2()      # 训练、测试
>>> main_3_2(True)  # 输出文件到`images`
```

### Multi

acc
| count/波段索引 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 0.7409 | 0.7857999999999999 | 0.7029000000000001 | 0.7536 | 0.7328 | 0.7111 | 0.7192000000000001 | 0.7582 | 0.7373000000000001 | 0.7254999999999999 | 0.7295999999999999 | 0.731 | 0.74 | 0.769 | 0.7437 | 0.7613 | 0.7831 | 0.7681 | 0.7707999999999999 | 0.7369 | 0.7781 | 0.7572 | 0.7337 | 0.7314 | 0.755 |
| 2 | 0.7772 | 0.7731 | 0.7554000000000001 | 0.7269 | 0.7369 | 0.7514 | 0.7232999999999999 | 0.7626999999999999 | 0.7595000000000001 | 0.7491 | 0.7545000000000001 | 0.7912 | 0.7663 | 0.7857999999999999 | 0.7894 | 0.7867000000000001 | 0.7541 | 0.7707999999999999 | 0.7378 | 0.7341 | 0.7785 | 0.7378 | 0.7541 | 0.7532 | 0.75 |
| 3 | 0.7698999999999999 | 0.7459 | 0.7695000000000001 | 0.7101000000000001 | 0.6957 | 0.7188 | 0.7848999999999999 | 0.7505 | 0.7835 | 0.7454999999999999 | 0.7754000000000001 | 0.7337 | 0.7428 | 0.7889 | 0.7323000000000001 | 0.7862 | 0.7115 | 0.7736 | 0.7867000000000001 | 0.75 | 0.755 | 0.7726000000000001 | 0.7812 | 0.7822 | 0.7332 |
| 4 | 0.8007 | 0.7704000000000001 | 0.7219 | 0.7242000000000001 | 0.7514 | 0.7609 | 0.716 | 0.7337 | 0.769 | 0.7283 | 0.7418 | 0.7676999999999999 | 0.7532 | 0.7514 | 0.7645000000000001 | 0.7201000000000001 | 0.7704000000000001 | 0.7536 | 0.779 | 0.7826000000000001 | 0.7613 | 0.7812 | 0.7278 | 0.7676999999999999 | 0.7604000000000001 |
| 5 | 0.7803 | 0.7454999999999999 | 0.7898999999999999 | 0.7698999999999999 | 0.7631 | 0.7979999999999999 | 0.7754000000000001 | 0.7337 | 0.7464 | 0.7831 | 0.7944 | 0.8043 | 0.7979999999999999 | 0.7536 | 0.8134 | 0.8053 | 0.7763 | 0.7862 | 0.8107 | 0.7576999999999999 | 0.7473000000000001 | 0.7672 | 0.7591 | 0.7903 | 0.8234 |
| 6 | 0.7695000000000001 | 0.7459 | 0.7432 | 0.7731 | 0.7418 | 0.7704000000000001 | 0.8057 | 0.7812 | 0.8151999999999999 | 0.784 | 0.8166 | 0.8003 | 0.7889 | 0.7867000000000001 | 0.7867000000000001 | 0.7817000000000001 | 0.7514 | 0.7736 | 0.8210999999999999 | 0.7609 | 0.7781 | 0.7798999999999999 | 0.8216 | 0.8043 | 0.7785 |
| 7 | 0.7835 | 0.745 | 0.779 | 0.7722 | 0.7251000000000001 | 0.779 | 0.7745000000000001 | 0.8101999999999999 | 0.7626999999999999 | 0.7835 | 0.7885 | 0.7912 | 0.7763 | 0.7713 | 0.8143 | 0.769 | 0.7707999999999999 | 0.8089 | 0.7979999999999999 | 0.8062 | 0.75 | 0.7354999999999999 | 0.7885 | 0.812 | 0.745 |
| 8 | 0.7409 | 0.7785 | 0.7432 | 0.7251000000000001 | 0.769 | 0.7722 | 0.7418 | 0.7817000000000001 | 0.7726000000000001 | 0.7486 | 0.7772 | 0.7518 | 0.7414000000000001 | 0.7404999999999999 | 0.7409 | 0.8003 | 0.7695000000000001 | 0.7545000000000001 | 0.7654000000000001 | 0.7785 | 0.7826000000000001 | 0.7803 | 0.7745000000000001 | 0.7582 | 0.7563 |
| 9 | 0.6581 | 0.7242000000000001 | 0.6875 | 0.6875 | 0.6947 | 0.7445999999999999 | 0.7432 | 0.7582 | 0.7043 | 0.7418 | 0.7391 | 0.7287 | 0.7486 | 0.731 | 0.7061 | 0.7201000000000001 | 0.6557999999999999 | 0.7323000000000001 | 0.7065 | 0.7283 | 0.7518 | 0.7228 | 0.7079000000000001 | 0.7029000000000001 | 0.7245999999999999 |
| 10 | 0.7745000000000001 | 0.7568 | 0.7418 | 0.7254999999999999 | 0.7432 | 0.7618 | 0.7576999999999999 | 0.8134 | 0.8012 | 0.7754000000000001 | 0.7867000000000001 | 0.7957 | 0.7591 | 0.7582 | 0.7917000000000001 | 0.8079999999999999 | 0.7686 | 0.8012 | 0.8351000000000001 | 0.7879999999999999 | 0.7917000000000001 | 0.7618 | 0.7659 | 0.7754000000000001 | 0.7848999999999999 |
| average | 0.75955 | 0.7571100000000001 | 0.74343 | 0.7368100000000001 | 0.73537 | 0.75682 | 0.7541699999999999 | 0.7683499999999999 | 0.7651699999999999 | 0.75648 | 0.77038 | 0.76956 | 0.7614599999999999 | 0.76364 | 0.7683 | 0.7738700000000001 | 0.7511500000000001 | 0.77228 | 0.7811099999999999 | 0.7623200000000001 | 0.76744 | 0.7596300000000001 | 0.76143 | 0.7677599999999999 | 0.76113 |

loss
| count/波段索引 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 2.9452 | 1.4351 | 3.8633 | 1.9228 | 2.539 | 4.0876 | 3.394 | 1.7999 | 3.1294 | 2.4133 | 4.1367 | 3.7259 | 2.1187 | 3.1474 | 2.0851 | 1.7401 | 2.096 | 1.8704 | 2.8944 | 2.1673 | 1.6095 | 2.115 | 3.6619 | 2.2836 | 3.9173 |
| 2 | 2.0732 | 1.4822 | 3.2696 | 3.4992 | 2.2891 | 2.9177 | 2.9923 | 2.7876 | 3.4665 | 3.6632 | 3.9755 | 1.8785 | 1.7687 | 3.0768 | 1.8603 | 1.7121 | 1.9554 | 1.5781 | 2.9094 | 1.8133 | 1.6759 | 3.7282 | 2.9751 | 1.6666 | 3.1631 |
| 3 | 2.8884 | 2.3649 | 3.4166 | 5.9688 | 3.8212 | 3.0442 | 1.4914 | 3.8162 | 2.8029 | 3.6452 | 3.3491 | 1.8872 | 2.3917 | 2.3081 | 2.4589 | 3.2695 | 2.7909 | 2.0335 | 2.3998 | 2.1886 | 3.6709 | 2.7676 | 1.714 | 1.3078 | 2.2269 |
| 4 | 1.3822 | 1.3343 | 2.6002 | 2.0379 | 1.9259 | 1.8043 | 4.0927 | 3.716 | 1.8855 | 2.042 | 1.6143 | 1.488 | 2.3206 | 2.8653 | 1.8915 | 2.5535 | 1.8311 | 1.7914 | 2.0503 | 1.0314 | 1.8596 | 1.6149 | 4.2083 | 2.1475 | 2.6106 |
| 5 | 1.8806 | 3.2492 | 1.644 | 2.7095 | 3.4961 | 1.29 | 2.0561 | 4.014 | 2.6999 | 1.8402 | 2.0774 | 1.4179 | 1.4739 | 3.1611 | 1.614 | 1.4582 | 2.6161 | 1.5681 | 2.1201 | 3.512 | 3.7999 | 2.0585 | 2.681 | 2.7854 | 1.7217 |
| 6 | 2.0634 | 2.9833 | 4.3027 | 2.6582 | 2.8026 | 2.3729 | 1.6878 | 1.7946 | 1.688 | 2.0935 | 1.4264 | 1.6038 | 1.9488 | 2.1357 | 1.6696 | 1.246 | 2.6488 | 2.2728 | 1.4426 | 2.6249 | 2.0213 | 2.0021 | 1.8958 | 1.2395 | 2.1748 |
| 7 | 1.745 | 3.7133 | 1.9942 | 2.7104 | 3.0444 | 3.2471 | 2.0583 | 1.6839 | 3.9789 | 2.0532 | 2.9137 | 2.0879 | 2.0624 | 2.915 | 2.3581 | 1.9055 | 2.1736 | 1.9427 | 3.1806 | 1.3727 | 3.4197 | 3.5141 | 2.2808 | 1.9152 | 4.1448 |
| 8 | 2.9668 | 4.2357 | 4.2446 | 3.634 | 3.9498 | 2.2532 | 3.5688 | 1.5291 | 1.2392 | 3.3524 | 2.4522 | 1.9526 | 3.193 | 4.115 | 3.3689 | 2.2225 | 1.869 | 3.9934 | 2.2195 | 4.7463 | 2.6239 | 2.6047 | 3.8273 | 2.3547 | 2.7425 |
| 9 | 3.4596 | 3.5435 | 4.3141 | 5.4512 | 3.9814 | 3.2206 | 2.3985 | 1.8396 | 3.6643 | 1.9797 | 2.8498 | 2.7974 | 1.5724 | 3.4743 | 2.2664 | 3.419 | 2.1356 | 2.4808 | 4.2069 | 4.3057 | 1.454 | 4.843 | 4.526 | 3.1283 | 1.9184 |
| 10 | 1.5873 | 2.0245 | 2.6835 | 4.2544 | 3.6469 | 2.9594 | 2.9079 | 1.3507 | 2.065 | 1.9757 | 1.8237 | 1.4203 | 1.8158 | 2.2134 | 2.4036 | 1.3367 | 3.5444 | 2.4515 | 1.4418 | 1.2745 | 1.0924 | 2.2759 | 1.9175 | 2.0846 | 1.7367 |
| average | 2.2991699999999993 | 2.6366000000000005 | 3.2332799999999997 | 3.48464 | 3.1496399999999998 | 2.7197 | 2.66478 | 2.43316 | 2.6619600000000005 | 2.50584 | 2.6618799999999996 | 2.02595 | 2.0666 | 2.9412099999999994 | 2.1976400000000003 | 2.08631 | 2.36609 | 2.19827 | 2.4865400000000006 | 2.50367 | 2.32271 | 2.7524000000000006 | 2.96877 | 2.0913199999999996 | 2.63568 |

作图如下
![图3.2.1](images/3_2_<figure>_[Multi].png)

### RGB

acc
| count/波段索引 | R | G | B |
| ----------: | -: | -: | -: |
| 1 | 0.6526000000000001 | 0.6277 | 0.5987 |
| 2 | 0.6363 | 0.6476000000000001 | 0.63 |
| 3 | 0.6635 | 0.6875 | 0.5888 |
| 4 | 0.6463 | 0.6639 | 0.6178 |
| 5 | 0.6716 | 0.6934 | 0.6154999999999999 |
| 6 | 0.6820999999999999 | 0.6779999999999999 | 0.6024 |
| 7 | 0.6354 | 0.6345000000000001 | 0.5307999999999999 |
| 8 | 0.6716 | 0.6766 | 0.6051 |
| 9 | 0.5516 | 0.5168 | 0.4828 |
| 10 | 0.6893 | 0.6123 | 0.5870000000000001 |
| average | 0.6500299999999999 | 0.64383 | 0.58589 |

loss
| count/波段索引 | R | G | B |
| ----------: | -: | -: | -: |
| 1 | 3.9056 | 4.0734 | 3.3863 |
| 2 | 2.4498 | 5.407 | 3.1798 |
| 3 | 3.2465 | 2.4015 | 3.8811 |
| 4 | 3.2172 | 3.1898 | 3.0433 |
| 5 | 3.0879 | 2.6543 | 2.7891 |
| 6 | 3.0725 | 4.0427 | 5.0278 |
| 7 | 4.4006 | 2.6794 | 4.2385 |
| 8 | 2.6314 | 2.6057 | 3.0677 |
| 9 | 4.1661 | 3.0054 | 4.7026 |
| 10 | 2.3592 | 2.7287 | 4.0279 |
| average | 3.25368 | 3.2787899999999994 | 3.7344100000000005 |

作图如下
![图3.2.2](images/3_2_<figure>_[RGB].png)

根据图3.2.1.1，按准确率将波段排序，降序排序如下：
``` shell
Generating tables and figures [Multi]...
Best:  [19 16 18 11 12  8 15 24 21  9 14 20 13 23 25 22  1  2  6 10  7 17  3  4
  5]
Generating tables and figures [RGB]...
Best:  [1 2 3]
```

## 3.3 波段组合实验

> 该部分实验仅针对多光谱数据。

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 根据[实验3.2](#32-%e6%b3%a2%e6%ae%b5%e5%af%b9%e6%af%94%e5%ae%9e%e9%aa%8c)得到的最优排序，依次选择最前1, 2, ..., 25个波段进行组合实验；
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；


``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_3
>>> main_3_3()      # 训练、测试
>>> main_3_3(True)  # 输出文件到`images`
```


acc
| count/组合数 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ---------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 0.7337 | 0.7785 | 0.8161 | 0.7870999999999999 | 0.7165 | 0.7082999999999999 | 0.745 | 0.784 | 0.7532 | 0.7817000000000001 | 0.7831 | 0.769 | 0.7885 | 0.7717 | 0.8007 | 0.8210999999999999 | 0.7812 | 0.7798999999999999 | 0.7908 | 0.7654000000000001 | 0.7663 | 0.7695000000000001 | 0.7476999999999999 | 0.7889 | 0.7323000000000001 |
| 2 | 0.7541 | 0.7803 | 0.7409 | 0.7798999999999999 | 0.7989 | 0.7953 | 0.7717 | 0.8451000000000001 | 0.8016 | 0.7572 | 0.8111 | 0.8125 | 0.7812 | 0.8125 | 0.7844 | 0.7885 | 0.8039000000000001 | 0.8442000000000001 | 0.7748999999999999 | 0.7695000000000001 | 0.8220000000000001 | 0.7953 | 0.7409 | 0.8225 | 0.7526999999999999 |
| 3 | 0.7812 | 0.7495 | 0.755 | 0.7879999999999999 | 0.7698999999999999 | 0.7826000000000001 | 0.8012 | 0.7835 | 0.7781 | 0.7613 | 0.7994 | 0.7509 | 0.7970999999999999 | 0.7631 | 0.8020999999999999 | 0.7979999999999999 | 0.7885 | 0.7926000000000001 | 0.7966 | 0.7781 | 0.8184 | 0.7659 | 0.7985 | 0.7948000000000001 | 0.8079999999999999 |
| 4 | 0.7278 | 0.7745000000000001 | 0.7432 | 0.7722 | 0.7948000000000001 | 0.7894 | 0.6920000000000001 | 0.7636 | 0.7879999999999999 | 0.7464 | 0.7663 | 0.726 | 0.7622 | 0.7772 | 0.7989 | 0.7532 | 0.7554000000000001 | 0.7935 | 0.8370000000000001 | 0.769 | 0.7976000000000001 | 0.7532 | 0.7826000000000001 | 0.7568 | 0.7879999999999999 |
| 5 | 0.7591 | 0.7713 | 0.8273999999999999 | 0.7917000000000001 | 0.7985 | 0.8134 | 0.8057 | 0.8170000000000001 | 0.7903 | 0.7748999999999999 | 0.8134 | 0.8293 | 0.7582 | 0.7803 | 0.8216 | 0.7903 | 0.8111 | 0.8070999999999999 | 0.8338 | 0.7917000000000001 | 0.8079999999999999 | 0.8229000000000001 | 0.813 | 0.7953 | 0.8070999999999999 |
| 6 | 0.8216 | 0.8265 | 0.7772 | 0.8057 | 0.7885 | 0.7781 | 0.8193 | 0.8329000000000001 | 0.8029999999999999 | 0.7948000000000001 | 0.8423999999999999 | 0.7867000000000001 | 0.8301999999999999 | 0.8098000000000001 | 0.8423999999999999 | 0.8329000000000001 | 0.8273999999999999 | 0.7867000000000001 | 0.8029999999999999 | 0.8207 | 0.8016 | 0.8207 | 0.8465 | 0.8288 | 0.7989 |
| 7 | 0.7885 | 0.7870999999999999 | 0.7822 | 0.7748999999999999 | 0.8062 | 0.7395999999999999 | 0.7713 | 0.8066 | 0.8293 | 0.7939 | 0.8170000000000001 | 0.8320000000000001 | 0.8347 | 0.7857999999999999 | 0.7966 | 0.8210999999999999 | 0.7953 | 0.7831 | 0.7979999999999999 | 0.7979999999999999 | 0.8256 | 0.8361 | 0.8089 | 0.8048000000000001 | 0.7953 |
| 8 | 0.7745000000000001 | 0.7582 | 0.7473000000000001 | 0.7554000000000001 | 0.7857999999999999 | 0.7920999999999999 | 0.8029999999999999 | 0.7976000000000001 | 0.7853 | 0.7953 | 0.8193 | 0.7676999999999999 | 0.769 | 0.8025 | 0.7645000000000001 | 0.7989 | 0.8029999999999999 | 0.8003 | 0.7885 | 0.8157 | 0.7844 | 0.8478 | 0.8157 | 0.7867000000000001 | 0.7966 |
| 9 | 0.7079000000000001 | 0.7486 | 0.7554000000000001 | 0.7404999999999999 | 0.7541 | 0.7254999999999999 | 0.7812 | 0.7745000000000001 | 0.7582 | 0.7568 | 0.7491 | 0.7351000000000001 | 0.7120000000000001 | 0.7079000000000001 | 0.7395999999999999 | 0.7378 | 0.7763 | 0.7378 | 0.7798999999999999 | 0.7473000000000001 | 0.7736 | 0.7378 | 0.7404999999999999 | 0.7681 | 0.7351000000000001 |
| 10 | 0.7659 | 0.7704000000000001 | 0.7698999999999999 | 0.7976000000000001 | 0.8029999999999999 | 0.8207 | 0.8134 | 0.7908 | 0.7822 | 0.8148000000000001 | 0.8012 | 0.8332999999999999 | 0.7989 | 0.8392000000000001 | 0.7957 | 0.8229000000000001 | 0.7798999999999999 | 0.7726000000000001 | 0.8039000000000001 | 0.8066 | 0.8107 | 0.8093 | 0.8039000000000001 | 0.7957 | 0.8161 |
| average | 0.76143 | 0.7744899999999999 | 0.77146 | 0.7792999999999999 | 0.78162 | 0.7745000000000001 | 0.78038 | 0.7995599999999999 | 0.78692 | 0.77771 | 0.8002300000000002 | 0.7842499999999999 | 0.7831999999999999 | 0.7850000000000001 | 0.79465 | 0.79647 | 0.7922 | 0.7897799999999999 | 0.8006399999999999 | 0.7862 | 0.8008199999999999 | 0.7958500000000002 | 0.78982 | 0.7942400000000001 | 0.78301 |

loss
| count/组合数 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ---------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 3.6619 | 2.2344 | 1.1798 | 1.776 | 2.3069 | 3.4993 | 3.2046 | 1.7534 | 2.3381 | 1.6329 | 1.8973 | 2.4269 | 2.0543 | 2.3278 | 1.8378 | 1.2838 | 2.3393 | 1.7652 | 2.5998 | 1.9871 | 2.0299 | 1.8304 | 3.3323 | 1.7713 | 2.4715 |
| 2 | 2.9751 | 2.1791 | 3.8339 | 1.8028 | 1.6325 | 2.023 | 1.1427 | 1.2631 | 2.721 | 2.2638 | 2.6527 | 2.3213 | 2.696 | 1.2618 | 2.0257 | 2.205 | 1.4504 | 1.11 | 2.7611 | 2.1614 | 1.6498 | 2.3797 | 1.9447 | 1.8049 | 3.2869 |
| 3 | 1.714 | 3.4419 | 2.7812 | 1.5916 | 2.919 | 1.5375 | 1.5247 | 2.8913 | 2.7758 | 2.1645 | 1.9921 | 3.3057 | 2.2693 | 3.5185 | 1.8376 | 3.0527 | 2.3063 | 1.9874 | 2.2438 | 2.4798 | 1.5052 | 2.3726 | 1.7484 | 1.4118 | 1.8756 |
| 4 | 4.2083 | 1.3992 | 3.1122 | 1.3307 | 1.8772 | 2.3611 | 3.118 | 2.3379 | 2.3343 | 1.4207 | 3.4472 | 2.8832 | 2.1896 | 1.9328 | 2.4969 | 2.8122 | 2.7343 | 1.4112 | 1.2531 | 2.3417 | 1.6868 | 3.0342 | 1.4581 | 2.7545 | 2.3225 |
| 5 | 2.681 | 3.9318 | 1.0927 | 2.6015 | 1.2245 | 1.2366 | 1.515 | 1.9868 | 1.9413 | 2.5735 | 2.2459 | 1.148 | 3.3901 | 1.9355 | 2.5287 | 2.1583 | 1.3581 | 1.9482 | 1.4734 | 2.5619 | 2.025 | 1.3344 | 1.5186 | 2.4543 | 3.113 |
| 6 | 1.8958 | 1.2503 | 3.7739 | 1.1704 | 1.6931 | 1.6547 | 1.3614 | 1.3449 | 2.2773 | 1.5004 | 0.8737 | 1.744 | 1.2462 | 2.6702 | 1.1092 | 1.1832 | 1.323 | 1.8849 | 2.2311 | 1.6737 | 2.0189 | 2.4338 | 0.9809 | 1.4125 | 2.8796 |
| 7 | 2.2808 | 1.9102 | 1.6562 | 1.9065 | 2.0429 | 4.8658 | 2.762 | 1.7852 | 1.6392 | 2.1263 | 1.8275 | 1.7836 | 1.3492 | 2.1622 | 3.9329 | 1.2123 | 4.5355 | 3.3718 | 2.6574 | 1.9423 | 1.5421 | 1.4793 | 1.5387 | 2.9773 | 1.1191 |
| 8 | 3.8273 | 2.8483 | 2.5196 | 2.4858 | 1.8062 | 2.3312 | 1.9497 | 2.1118 | 3.0084 | 1.746 | 1.4382 | 3.0424 | 2.2103 | 1.676 | 3.7322 | 2.3178 | 2.0603 | 1.5592 | 1.772 | 1.1751 | 1.6771 | 1.0475 | 1.5535 | 2.0985 | 1.7469 |
| 9 | 4.526 | 2.777 | 2.6239 | 1.6267 | 2.511 | 3.7836 | 1.8118 | 3.2146 | 1.7378 | 3.2065 | 2.126 | 3.2121 | 2.3426 | 2.4943 | 3.1389 | 2.8139 | 3.5509 | 2.5353 | 2.1234 | 2.2953 | 1.6925 | 2.8625 | 2.5548 | 1.0376 | 3.8265 |
| 10 | 1.9175 | 1.728 | 2.3607 | 1.7867 | 1.4646 | 1.5428 | 1.3819 | 2.0063 | 2.3154 | 1.1304 | 2.0756 | 1.8444 | 1.3726 | 1.1817 | 1.6529 | 1.542 | 2.104 | 2.3191 | 1.4292 | 1.5942 | 1.7077 | 2.6614 | 2.05 | 2.3683 | 1.9768 |
| average | 2.96877 | 2.3700200000000002 | 2.49341 | 1.80787 | 1.9477900000000001 | 2.4835599999999998 | 1.97718 | 2.06953 | 2.30886 | 1.9765000000000001 | 2.05762 | 2.3711599999999997 | 2.1120200000000002 | 2.1160799999999997 | 2.42928 | 2.0581199999999997 | 2.3762099999999995 | 1.9892300000000003 | 2.05443 | 2.02125 | 1.7534999999999996 | 2.14358 | 1.8679999999999999 | 2.0091 | 2.46184 |


作图如下
![图3.3.1](images/3_3_<figure>_[Multi].png)

## 3.4 光谱分辨率实验

> 该部分实验仅针对多光谱数据。

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 依次选择步长为1, 2, ..., 25，进行组合波段实验
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_4
>>> main_3_4()      # 训练、测试
>>> main_3_4(True)  # 输出文件到`images`
```


acc
| count/波段步长 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 0.7676999999999999 | 0.7704000000000001 | 0.7722 | 0.7757999999999999 | 0.8234 | 0.7681 | 0.7391 | 0.7369 | 0.7989 | 0.7387 | 0.7953 | 0.8003 | 0.8016 | 0.7772 | 0.7654000000000001 | 0.7423000000000001 | 0.7962 | 0.7518 | 0.7404999999999999 | 0.7894 | 0.7704000000000001 | 0.7441 | 0.7731 | 0.7232999999999999 | 0.7409 |
| 2 | 0.8101999999999999 | 0.7763 | 0.8170000000000001 | 0.8342 | 0.784 | 0.7857999999999999 | 0.8003 | 0.8070999999999999 | 0.779 | 0.7707999999999999 | 0.7831 | 0.7654000000000001 | 0.8197 | 0.7966 | 0.7767000000000001 | 0.7894 | 0.8062 | 0.7536 | 0.7857999999999999 | 0.7926000000000001 | 0.7879999999999999 | 0.8143 | 0.8116 | 0.7676999999999999 | 0.7772 |
| 3 | 0.7826000000000001 | 0.7776000000000001 | 0.7731 | 0.7686 | 0.7817000000000001 | 0.7663 | 0.7817000000000001 | 0.7885 | 0.7698999999999999 | 0.8039000000000001 | 0.7672 | 0.7803 | 0.7748999999999999 | 0.7668 | 0.7526999999999999 | 0.7767000000000001 | 0.7378 | 0.7939 | 0.7776000000000001 | 0.7862 | 0.8107 | 0.76 | 0.7454999999999999 | 0.7464 | 0.7698999999999999 |
| 4 | 0.7798999999999999 | 0.7445999999999999 | 0.8057 | 0.7717 | 0.7541 | 0.8098000000000001 | 0.7826000000000001 | 0.8179000000000001 | 0.8070999999999999 | 0.8070999999999999 | 0.7595000000000001 | 0.7731 | 0.7486 | 0.8070999999999999 | 0.7970999999999999 | 0.769 | 0.7648999999999999 | 0.7432 | 0.7717 | 0.7287 | 0.7486 | 0.7554000000000001 | 0.7862 | 0.7132999999999999 | 0.8007 |
| 5 | 0.7745000000000001 | 0.812 | 0.7676999999999999 | 0.7926000000000001 | 0.7903 | 0.8070999999999999 | 0.7835 | 0.7704000000000001 | 0.8261 | 0.7835 | 0.8229000000000001 | 0.7998000000000001 | 0.7663 | 0.7857999999999999 | 0.8216 | 0.7835 | 0.7966 | 0.769 | 0.7944 | 0.7763 | 0.7957 | 0.8125 | 0.7618 | 0.7591 | 0.7803 |
| 6 | 0.8125 | 0.8043 | 0.8451000000000001 | 0.8243 | 0.8382999999999999 | 0.8020999999999999 | 0.8193 | 0.7636 | 0.8003 | 0.8025 | 0.7944 | 0.7894 | 0.8111 | 0.784 | 0.7798999999999999 | 0.8016 | 0.8062 | 0.8098000000000001 | 0.7757999999999999 | 0.7862 | 0.8070999999999999 | 0.7717 | 0.7803 | 0.8070999999999999 | 0.7695000000000001 |
| 7 | 0.8332999999999999 | 0.7998000000000001 | 0.8170000000000001 | 0.8184 | 0.8034 | 0.8201999999999999 | 0.7957 | 0.7763 | 0.8184 | 0.8043 | 0.8143 | 0.7482 | 0.8079999999999999 | 0.8066 | 0.813 | 0.7668 | 0.7912 | 0.8079999999999999 | 0.8098000000000001 | 0.7803 | 0.8143 | 0.8025 | 0.7576999999999999 | 0.7668 | 0.7835 |
| 8 | 0.8139 | 0.7745000000000001 | 0.8003 | 0.7807999999999999 | 0.7831 | 0.7559 | 0.7912 | 0.7853 | 0.8070999999999999 | 0.7731 | 0.7676999999999999 | 0.8043 | 0.8003 | 0.7798999999999999 | 0.7939 | 0.7867000000000001 | 0.8329000000000001 | 0.8442000000000001 | 0.8234 | 0.7785 | 0.8084 | 0.7776000000000001 | 0.7676999999999999 | 0.7754000000000001 | 0.7409 |
| 9 | 0.7354999999999999 | 0.7717 | 0.7622 | 0.7572 | 0.7345999999999999 | 0.7698999999999999 | 0.8016 | 0.7505 | 0.7373000000000001 | 0.6957 | 0.6893 | 0.7378 | 0.7676999999999999 | 0.7554000000000001 | 0.7242000000000001 | 0.7092 | 0.7464 | 0.7082999999999999 | 0.7663 | 0.7636 | 0.7283 | 0.7201000000000001 | 0.7622 | 0.7568 | 0.6581 |
| 10 | 0.8025 | 0.8243 | 0.7879999999999999 | 0.774 | 0.7944 | 0.7879999999999999 | 0.8256 | 0.8311 | 0.7659 | 0.7767000000000001 | 0.8039000000000001 | 0.7576999999999999 | 0.8025 | 0.8406 | 0.7917000000000001 | 0.8053 | 0.8066 | 0.8284 | 0.7817000000000001 | 0.7794 | 0.7731 | 0.7582 | 0.7541 | 0.7962 | 0.7745000000000001 |
| average | 0.7912600000000001 | 0.78555 | 0.79483 | 0.78976 | 0.7887299999999999 | 0.78732 | 0.79206 | 0.78276 | 0.7910000000000001 | 0.7756299999999999 | 0.7797600000000001 | 0.7756299999999999 | 0.7900699999999999 | 0.7899999999999998 | 0.7816199999999999 | 0.77305 | 0.7885 | 0.78102 | 0.7827000000000001 | 0.77612 | 0.78446 | 0.7716400000000002 | 0.7700199999999999 | 0.7612099999999999 | 0.75955 |

loss
| count/波段步长 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 2.8747 | 2.5731 | 2.1413 | 2.4978 | 1.4107 | 1.7715 | 3.2493 | 2.9355 | 2.7843 | 2.3518 | 1.376 | 1.298 | 1.3104 | 1.8365 | 1.8424 | 2.3501 | 2.6545 | 3.0443 | 2.926 | 1.7614 | 2.22 | 2.6293 | 1.6202 | 2.2903 | 2.9452 |
| 2 | 2.6618 | 3.0102 | 1.6403 | 0.9742 | 3.3383 | 1.3847 | 1.1297 | 1.2503 | 3.2395 | 3.3223 | 1.9456 | 5.9083 | 2.2354 | 1.9842 | 1.6829 | 1.8941 | 1.5047 | 2.0481 | 1.8395 | 1.9635 | 1.6323 | 1.4805 | 1.8503 | 3.5589 | 2.0732 |
| 3 | 2.0165 | 2.364 | 2.2061 | 2.0468 | 2.4577 | 2.2395 | 1.569 | 2.8127 | 2.8835 | 1.2009 | 2.094 | 2.0794 | 1.9022 | 3.1911 | 2.0041 | 3.1578 | 3.7241 | 2.6266 | 2.6426 | 1.8161 | 1.9631 | 4.1003 | 2.8988 | 2.499 | 2.8884 |
| 4 | 2.9868 | 1.658 | 1.1303 | 2.1253 | 3.2853 | 1.2613 | 2.4636 | 1.1008 | 1.4131 | 1.2769 | 2.8698 | 2.3146 | 4.4854 | 1.078 | 1.8365 | 3.94 | 4.3259 | 1.9542 | 2.0699 | 2.9866 | 2.7587 | 2.3547 | 2.61 | 2.8848 | 1.3822 |
| 5 | 3.4168 | 1.3092 | 2.3833 | 2.1405 | 1.4407 | 1.4102 | 3.319 | 2.4371 | 1.5933 | 2.5847 | 1.3405 | 2.1793 | 3.9236 | 2.7967 | 1.7771 | 3.3959 | 2.1285 | 1.4002 | 2.9531 | 1.6542 | 1.7067 | 2.2621 | 2.7229 | 1.5168 | 1.8806 |
| 6 | 1.8175 | 1.4857 | 1.5948 | 1.1917 | 1.8515 | 1.929 | 1.401 | 1.8587 | 1.6191 | 2.0834 | 3.9614 | 3.3261 | 1.6381 | 2.6683 | 1.8818 | 1.7725 | 2.5541 | 1.196 | 1.8958 | 2.4879 | 1.6451 | 1.6708 | 2.8285 | 1.9768 | 2.0634 |
| 7 | 1.3199 | 2.0748 | 1.868 | 1.4674 | 4.4796 | 1.5883 | 1.6094 | 3.5604 | 1.3852 | 1.5246 | 1.3631 | 3.4759 | 2.215 | 1.8588 | 1.8942 | 2.1172 | 3.2912 | 1.8989 | 1.5248 | 2.7186 | 1.461 | 1.5805 | 2.0621 | 3.0973 | 1.745 |
| 8 | 1.9334 | 3.4124 | 2.413 | 3.4342 | 2.177 | 3.7755 | 2.4625 | 2.4185 | 2.4337 | 3.2434 | 3.18 | 2.3313 | 3.7056 | 3.2088 | 1.8708 | 1.5959 | 1.4585 | 0.9033 | 1.5874 | 3.173 | 1.8043 | 2.8097 | 2.5621 | 1.5518 | 2.9668 |
| 9 | 7.6346 | 1.8191 | 1.6851 | 2.3358 | 2.1432 | 1.8685 | 1.2552 | 1.894 | 2.3579 | 3.6534 | 2.3981 | 2.2064 | 1.7698 | 2.6342 | 2.7217 | 4.0655 | 4.5636 | 3.1729 | 1.9789 | 1.8902 | 3.1241 | 3.069 | 2.1387 | 3.1779 | 3.4596 |
| 10 | 1.5055 | 1.42 | 1.6778 | 4.0444 | 2.724 | 2.7427 | 1.5251 | 1.1146 | 3.2828 | 2.0146 | 1.5425 | 3.3119 | 1.5819 | 1.2014 | 2.2179 | 1.8787 | 2.1333 | 1.7312 | 2.1385 | 2.4796 | 1.3205 | 2.3895 | 3.2787 | 1.3989 | 1.5873 |
| average | 2.81675 | 2.11265 | 1.874 | 2.22581 | 2.5307999999999997 | 1.99712 | 1.9983799999999996 | 2.13826 | 2.2992399999999997 | 2.3256000000000006 | 2.2070999999999996 | 2.84312 | 2.47674 | 2.2458 | 1.97294 | 2.61677 | 2.83384 | 1.99757 | 2.15565 | 2.29311 | 1.9635799999999999 | 2.4346399999999995 | 2.45723 | 2.3952500000000003 | 2.2991699999999993 |

作图如下
![图3.4](images/3_4_<figure>_[Multi].png)

## 3.5 鲁棒性实验

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 选用全部波段进行实验；
- 统计10次实验中，改变条件得到表格；
- 做出曲线

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_5
>>> main_3_5()      # 训练、测试
>>> main_3_5(True)  # 输出文件到`images`
```

### 3.5.1 干扰种类

统计无干扰、干扰1、干扰2、干扰3下，每次实验的准确率、损失

**仅包含position=4**

#### Multi

acc
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 0.5789473652839661 | 0.44186046719551086 | 0.5319148898124695 | 0.523809552192688 |
| 2 | 0.5853658318519592 | 0.6666666865348816 | 0.6170212626457214 | 0.5116279125213623 |
| 3 | 0.6341463327407837 | 0.4864864945411682 | 0.7021276354789734 | 0.3888888955116272 |
| 4 | 0.54347825050354 | 0.5777778029441833 | 0.5 | 0.5957446694374084 |
| 5 | 0.6341463327407837 | 0.7096773982048035 | 0.6000000238418579 | 0.6170212626457214 |
| 6 | 0.6428571343421936 | 0.6666666865348816 | 0.5581395626068115 | 0.5111111402511597 |
| 7 | 0.6666666865348816 | 0.7307692170143127 | 0.5428571701049805 | 0.7027027010917664 |
| 8 | 0.5853658318519592 | 0.6000000238418579 | 0.5384615659713745 | 0.574999988079071 |
| 9 | 0.4736842215061188 | 0.39534884691238403 | 0.47999998927116394 | 0.4722222089767456 |
| 10 | 0.5897436141967773 | 0.6052631735801697 | 0.6153846383094788 | 0.5675675868988037 |
| average | 0.5934401601552963 | 0.5880516797304154 | 0.5685906738042832 | 0.5465695917606354 |

loss
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 6.167959690093994 | 9.065533638000488 | 5.434017658233643 | 6.919863700866699 |
| 2 | 5.824125289916992 | 5.772226810455322 | 8.19789981842041 | 10.900633811950684 |
| 3 | 4.807382583618164 | 3.9915144443511963 | 3.1928367614746094 | 8.285655975341797 |
| 4 | 7.459294319152832 | 8.04859733581543 | 9.044753074645996 | 7.6262712478637695 |
| 5 | 6.844326972961426 | 6.010092735290527 | 7.844810485839844 | 7.7738447189331055 |
| 6 | 4.546628475189209 | 3.2557802200317383 | 4.394327640533447 | 6.726580619812012 |
| 7 | 2.4725871086120605 | 2.0936903953552246 | 4.3624420166015625 | 3.5121984481811523 |
| 8 | 5.848727703094482 | 4.576180458068848 | 7.189635276794434 | 4.7397613525390625 |
| 9 | 21.53187370300293 | 23.862991333007812 | 21.625051498413086 | 24.50809097290039 |
| 10 | 3.3292295932769775 | 3.5280873775482178 | 3.004720449447632 | 3.4214606285095215 |
| average | 6.883213543891907 | 7.02046947479248 | 7.429049468040466 | 8.441436147689819 |


作图如下
![图3.5.1.1](images/3_5_<figure>_[Multi]_[illum_types].png)

#### RGB

acc
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 0.42105263471603394 | 0.41860464215278625 | 0.5319148898124695 | 0.523809552192688 |
| 2 | 0.46341463923454285 | 0.4523809552192688 | 0.5531914830207825 | 0.4651162922382355 |
| 3 | 0.5121951103210449 | 0.4864864945411682 | 0.7021276354789734 | 0.4444444477558136 |
| 4 | 0.41304346919059753 | 0.5777778029441833 | 0.47826087474823 | 0.5531914830207825 |
| 5 | 0.6585366129875183 | 0.6451612710952759 | 0.6000000238418579 | 0.5744680762290955 |
| 6 | 0.6785714030265808 | 0.5641025900840759 | 0.604651153087616 | 0.4444444477558136 |
| 7 | 0.6428571343421936 | 0.6346153616905212 | 0.4571428596973419 | 0.4864864945411682 |
| 8 | 0.46341463923454285 | 0.5 | 0.43589743971824646 | 0.5249999761581421 |
| 9 | 0.44736841320991516 | 0.3488371968269348 | 0.41999998688697815 | 0.5 |
| 10 | 0.5128205418586731 | 0.6315789222717285 | 0.6410256624221802 | 0.5945945978164673 |
| average | 0.5213274598121643 | 0.5259545236825943 | 0.5424212008714676 | 0.5111555367708206 |

loss
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 5.125059127807617 | 6.356663227081299 | 4.351160049438477 | 5.395039081573486 |
| 2 | 8.10213565826416 | 6.4781951904296875 | 5.138296127319336 | 8.736297607421875 |
| 3 | 5.447436332702637 | 4.896655559539795 | 2.9816572666168213 | 6.670717239379883 |
| 4 | 8.497601509094238 | 5.763704299926758 | 6.337241172790527 | 6.002443790435791 |
| 5 | 7.847358703613281 | 5.984066486358643 | 6.456955909729004 | 8.204849243164062 |
| 6 | 5.684070110321045 | 5.115353107452393 | 4.7767157554626465 | 7.005745887756348 |
| 7 | 7.572367191314697 | 5.922027111053467 | 8.232109069824219 | 6.721381664276123 |
| 8 | 7.258645534515381 | 4.098363399505615 | 6.035258769989014 | 4.308747291564941 |
| 9 | 6.122344017028809 | 6.690638542175293 | 6.1424031257629395 | 4.622540473937988 |
| 10 | 6.353581428527832 | 5.328865051269531 | 4.515578269958496 | 3.126558303833008 |
| average | 6.80105996131897 | 5.663453197479248 | 5.496737551689148 | 6.07943205833435 |

作图如下
![图3.5.1.2](images/3_5_<figure>_[RGB]_[illum_types].png)

### 3.5.2 偏转角度

统计各角度下，每次实验的准确率、损失

**仅包含glass_type=1**

#### Multi

acc
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 0.939393937587738 | 0.984375 | 1.0 | 1.0 | 1.0 | 1.0 | 0.9692307710647583 |
| 2 | 0.95652174949646 | 0.96875 | 1.0 | 1.0 | 1.0 | 0.9852941036224365 | 0.9753086566925049 |
| 3 | 0.953125 | 0.9838709831237793 | 0.9696969985961914 | 0.98591548204422 | 0.9736841917037964 | 1.0 | 0.9166666865348816 |
| 4 | 0.9428571462631226 | 1.0 | 1.0 | 1.0 | 1.0 | 0.984375 | 0.9259259104728699 |
| 5 | 0.9142857193946838 | 0.9833333492279053 | 1.0 | 1.0 | 0.9718309640884399 | 0.9855072498321533 | 0.9016393423080444 |
| 6 | 0.9577465057373047 | 0.9866666793823242 | 1.0 | 1.0 | 1.0 | 1.0 | 0.9718309640884399 |
| 7 | 0.8970588445663452 | 0.9878048896789551 | 0.984375 | 1.0 | 1.0 | 0.9729729890823364 | 0.8965517282485962 |
| 8 | 0.9753086566925049 | 0.984375 | 1.0 | 1.0 | 0.96875 | 1.0 | 0.931506872177124 |
| 9 | 0.9642857313156128 | 1.0 | 0.9871794581413269 | 1.0 | 0.96875 | 0.9571428298950195 | 0.9142857193946838 |
| 10 | 0.9104477763175964 | 0.9677419066429138 | 1.0 | 1.0 | 1.0 | 1.0 | 0.9090909361839294 |
| average | 0.9411031067371368 | 0.9846917808055877 | 0.9941251456737519 | 0.998591548204422 | 0.9883015155792236 | 0.9885292172431945 | 0.9312037587165832 |

loss
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 0.2647956311702728 | 0.11220697313547134 | 0.0005198473809286952 | 0.00019686477025970817 | 0.0012118930462747812 | 0.004517591558396816 | 0.17308714985847473 |
| 2 | 0.19952116906642914 | 0.3436585068702698 | 0.0014830699656158686 | 0.0010761530138552189 | 0.0006774560897611082 | 0.10307009518146515 | 0.03842560574412346 |
| 3 | 0.21327011287212372 | 0.17944999039173126 | 0.16181431710720062 | 0.07604364305734634 | 0.12488047778606415 | 0.014403101056814194 | 0.4051317870616913 |
| 4 | 0.405721515417099 | 0.0063661192543804646 | 0.01213095709681511 | 0.015631509944796562 | 0.010623011738061905 | 0.06054190173745155 | 0.37377333641052246 |
| 5 | 0.23947837948799133 | 0.07228357344865799 | 0.001707955147139728 | 0.0014011701568961143 | 0.13789717853069305 | 0.01500131469219923 | 0.24235016107559204 |
| 6 | 0.48720642924308777 | 0.050129249691963196 | 0.009497841820120811 | 0.0004697312251664698 | 0.0005212312680669129 | 0.008312585763633251 | 0.33716881275177 |
| 7 | 0.6097179651260376 | 0.0352129228413105 | 0.08140107989311218 | 0.006668490823358297 | 0.007627331186085939 | 0.1087426245212555 | 0.32615649700164795 |
| 8 | 0.22077946364879608 | 0.06379980593919754 | 0.0018850984051823616 | 0.002226400887593627 | 0.10084619373083115 | 0.008809918537735939 | 0.3261304199695587 |
| 9 | 0.17031720280647278 | 0.01697951927781105 | 0.022051319479942322 | 0.017060549929738045 | 0.07615628838539124 | 0.16201059520244598 | 0.3946984112262726 |
| 10 | 0.44112566113471985 | 0.17642581462860107 | 0.005186810158193111 | 0.012150727212429047 | 0.004698488395661116 | 0.005983068607747555 | 0.7537350058555603 |
| average | 0.325193352997303 | 0.10565124754793942 | 0.02976782964542508 | 0.013292524102143943 | 0.04651395501568913 | 0.049139279685914514 | 0.3370657186955214 |

作图如下
![图3.5.2.1](images/3_5_<figure>_[Multi]_[positions].png)

#### RGB

acc
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 0.8030303120613098 | 0.921875 | 0.9868420958518982 | 1.0 | 0.9841269850730896 | 0.9090909361839294 | 0.692307710647583 |
| 2 | 0.695652186870575 | 0.875 | 0.949999988079071 | 0.9402984976768494 | 1.0 | 0.9264705777168274 | 0.7037037014961243 |
| 3 | 0.734375 | 0.9677419066429138 | 1.0 | 0.9577465057373047 | 0.9473684430122375 | 0.8732394576072693 | 0.5972222089767456 |
| 4 | 0.7285714149475098 | 0.9677419066429138 | 0.9545454382896423 | 1.0 | 0.9864864945411682 | 0.875 | 0.7407407164573669 |
| 5 | 0.6857143044471741 | 0.949999988079071 | 0.9767441749572754 | 1.0 | 0.9718309640884399 | 0.8840579986572266 | 0.6557376980781555 |
| 6 | 0.7323943376541138 | 0.9866666793823242 | 0.98591548204422 | 0.9857142567634583 | 0.9841269850730896 | 0.9459459185600281 | 0.7323943376541138 |
| 7 | 0.8382353186607361 | 0.9512194991111755 | 0.984375 | 0.9868420958518982 | 1.0 | 0.8918918967247009 | 0.6724137663841248 |
| 8 | 0.6419752836227417 | 0.90625 | 0.9189189076423645 | 0.939393937587738 | 0.921875 | 0.9200000166893005 | 0.6575342416763306 |
| 9 | 0.7678571343421936 | 0.9444444179534912 | 0.9358974099159241 | 0.9538461565971375 | 0.890625 | 0.8714285492897034 | 0.699999988079071 |
| 10 | 0.8208954930305481 | 0.9677419066429138 | 0.9538461565971375 | 1.0 | 0.9624999761581421 | 0.949999988079071 | 0.7272727489471436 |
| average | 0.7448700785636901 | 0.9438681304454803 | 0.9647084653377533 | 0.9763841450214386 | 0.9648939847946167 | 0.9047125339508056 | 0.6879327118396759 |

loss
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 1.2264301776885986 | 0.3491330146789551 | 0.10285498946905136 | 0.0025564602110534906 | 0.02868545986711979 | 0.508806049823761 | 1.9547984600067139 |
| 2 | 1.8658058643341064 | 0.3265154957771301 | 0.2757793068885803 | 0.3573332726955414 | 0.02098148502409458 | 0.523931086063385 | 1.2604272365570068 |
| 3 | 1.238227128982544 | 0.1969119906425476 | 0.027931980788707733 | 0.23020172119140625 | 0.27826428413391113 | 0.32252568006515503 | 1.6671607494354248 |
| 4 | 2.19581937789917 | 0.11124242097139359 | 0.34367549419403076 | 0.012284818105399609 | 0.1216413676738739 | 1.9362024068832397 | 1.5137196779251099 |
| 5 | 1.250413179397583 | 0.16681309044361115 | 0.0887828916311264 | 0.019520483911037445 | 0.22390423715114594 | 0.6376330852508545 | 1.7581074237823486 |
| 6 | 1.2753628492355347 | 0.04450066015124321 | 0.0369686596095562 | 0.03906931355595589 | 0.08222836256027222 | 0.24313884973526 | 2.195464611053467 |
| 7 | 0.6716129183769226 | 0.10529304295778275 | 0.08982066810131073 | 0.17038173973560333 | 0.013117115944623947 | 0.4176270663738251 | 1.628309726715088 |
| 8 | 2.755402088165283 | 0.8193526268005371 | 0.4291169047355652 | 0.13713611662387848 | 0.17468750476837158 | 1.1708835363388062 | 3.125436782836914 |
| 9 | 1.0878218412399292 | 0.1987869143486023 | 0.22993454337120056 | 0.14500126242637634 | 0.44310736656188965 | 0.6266781687736511 | 1.31401789188385 |
| 10 | 0.9402564764022827 | 0.12287456542253494 | 0.19714957475662231 | 0.010987506248056889 | 0.22931131720542908 | 0.21704916656017303 | 1.1850976943969727 |
| average | 1.4507151901721955 | 0.2441423822194338 | 0.18220150135457516 | 0.1124472694704309 | 0.16159285008907318 | 0.6604475095868111 | 1.7602540254592896 |

作图如下
![图3.5.2.2](images/3_5_<figure>_[RGB]_[positions].png)

### 3.5.3 遮挡实验

统计无眼镜、近视眼镜、太阳镜下，每次实验的准确率、损失

#### Multi

acc
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.9851064085960388 | 0.4727272689342499 | 0.1111111119389534 |
| 2 | 0.9832985401153564 | 0.5849056839942932 | 0.1794871836900711 |
| 3 | 0.9688796401023865 | 0.5207100510597229 | 0.0923076942563057 |
| 4 | 0.9808510541915894 | 0.5246913433074951 | 0.1547619104385376 |
| 5 | 0.9678714871406555 | 0.39393940567970276 | 0.15094339847564697 |
| 6 | 0.9878787994384766 | 0.5432098507881165 | 0.10169491171836853 |
| 7 | 0.9657947421073914 | 0.6174496412277222 | 0.3285714387893677 |
| 8 | 0.9798792600631714 | 0.5298013091087341 | 0.1764705926179886 |
| 9 | 0.9705263376235962 | 0.3687500059604645 | 0.03703703731298447 |
| 10 | 0.9713114500045776 | 0.5301204919815063 | 0.19354838132858276 |
| average | 0.976139771938324 | 0.5086305052042007 | 0.15259336605668067 |

loss
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.07731112837791443 | 5.79047966003418 | 13.081746101379395 |
| 2 | 0.09622308611869812 | 3.9061903953552246 | 16.375572204589844 |
| 3 | 0.16708935797214508 | 4.087160587310791 | 10.415313720703125 |
| 4 | 0.11849125474691391 | 4.715012550354004 | 16.08338165283203 |
| 5 | 0.09431734681129456 | 8.550827026367188 | 18.573633193969727 |
| 6 | 0.12857681512832642 | 3.4494059085845947 | 11.361750602722168 |
| 7 | 0.15613850951194763 | 2.8390541076660156 | 6.624544143676758 |
| 8 | 0.10699232667684555 | 4.0081071853637695 | 11.241830825805664 |
| 9 | 0.12091128528118134 | 12.741271018981934 | 43.34785079956055 |
| 10 | 0.1890537142753601 | 3.2280917167663574 | 7.248566150665283 |
| average | 0.12551048249006272 | 5.331560015678406 | 15.435418939590454 |

作图如下
![图3.5.3.1](images/3_5_<figure>_[Multi]_[glass_types].png)

#### RGB

acc
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.9021276831626892 | 0.3757575750350952 | 0.06172839552164078 |
| 2 | 0.8643006086349487 | 0.5345911979675293 | 0.05128205195069313 |
| 3 | 0.8672199249267578 | 0.5325443744659424 | 0.03076923079788685 |
| 4 | 0.8999999761581421 | 0.4444444477558136 | 0.0476190485060215 |
| 5 | 0.8835341334342957 | 0.4848484992980957 | 0.07547169923782349 |
| 6 | 0.9070706963539124 | 0.5 | 0.06779661029577255 |
| 7 | 0.9114688038825989 | 0.449664443731308 | 0.11428571492433548 |
| 8 | 0.8370221257209778 | 0.3708609342575073 | 0.029411764815449715 |
| 9 | 0.8694736957550049 | 0.38749998807907104 | 0.02469135820865631 |
| 10 | 0.9139344096183777 | 0.46385541558265686 | 0.14516128599643707 |
| average | 0.8856152057647705 | 0.45440668761730196 | 0.06482171602547168 |

loss
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.5824151635169983 | 4.70402717590332 | 9.97917652130127 |
| 2 | 0.6875079274177551 | 2.651108503341675 | 14.849656105041504 |
| 3 | 0.5678960680961609 | 2.671276807785034 | 11.261957168579102 |
| 4 | 0.8487849831581116 | 4.4232635498046875 | 13.403159141540527 |
| 5 | 0.5499852299690247 | 3.1266775131225586 | 20.022212982177734 |
| 6 | 0.5622195601463318 | 3.1061513423919678 | 13.873363494873047 |
| 7 | 0.40106916427612305 | 5.132781505584717 | 15.550905227661133 |
| 8 | 1.2949384450912476 | 4.516125202178955 | 11.175697326660156 |
| 9 | 0.561680793762207 | 3.097285747528076 | 11.630659103393555 |
| 10 | 0.40594759583473206 | 2.9248738288879395 | 11.442842483520508 |
| average | 0.6462444931268692 | 3.635357117652893 | 13.318962955474854 |

作图如下
![图3.5.3.2](images/3_5_<figure>_[RGB]_[glass_types].png)
