# 1. 数据目录结构
```
[1-92]                                  # 人员标签
    ├── multi/                          # 多光谱
    │   └── illum[1-3]/, normal/        # 干扰 `1-3`，无干扰
    │       ├── Multi_[1-7]_W1_1/       # 位置 `1-7`        无眼镜      每个位置目录下包括四个照片目录
    │       │   └── [1-4]/              #                              每个目录下包括25张图片文件
    │       │       └── [1-25].jpg
    │       ├── Multi_4_W1_6            # 位置 `4`          墨镜        目录下包括四个照片目录
    │       │   └── [1-4]/              #                              每个目录下包括25张图片文件
    │       │       └── [1-25].jpg
    │       └── Multi_[1-7]_W1_5        # 位置 `1-7`        眼镜        每个目录下包括25张图片文件， 部分人员无眼镜，即无该目录
    │           └── [1-25].jpg        
    └── rgb                             # 可见光
        └── illum[1-3]/, normal/        # 干扰 `1-3`，无干扰
            ├── RGB_[1-7]_W1_1/         # 位置 `1-7`        无眼镜      每个位置目录下包括四张照片文件
            │   └── [1-4].jpg
            ├── RGB_4_W1_6/             # 位置 `4`          墨镜        目录下包括四张照片文件
            │   └── [1-4].jpg
            └── RGB_[1-7]_W1_5.jpg      # 位置 `1-7`        眼镜        部分人员无眼镜，即无该图片
```

# 2. 实验

``` python
def get_configer(n_epoch=150, stepsize=120, batchsize=2**5,                         lrbase=5e-4, gamma=0.2, cuda=True, 
                dsize=(112//2, 96//2), n_channel=25, n_class=92, datatype='Multi', 
                usedChannels=[i+1 for i in range(25)], splitratio=[0.6, 0.2, 0.2], 
                splitcount=1, modelbase='recognize_vgg11_bn',
                datapath = "/datasets/ECUSTDETECT",
                savepath = 'checkpoints', 
                hist=True,
                training_no_glass=True):
```

## 3.1 划分比例的确定y

> 确定在何种划分下进行实验，后续实验均以此结果为标准。

- 划分方式与上阶段一致，在每人的数据中，保留`Multi`与`RGB`同时检测出的图片路径，打乱后按一定比例划分；
- 本次实验划分时不做特殊处理，若需要其中指定条件的数据，可在`RecognizeDataset`中指定筛选条件`condition`；

运行
``` python
python gen_split.py

[split_112x96_[0.10:0.70:0.20]_[1]] n_items: 3796, n_train: 365, n_valid: 2633, n_test: 798, ratio: 0.096: 0.694: 0.210
...

[split_112x96_[0.20:0.60:0.20]_[1]] n_items: 3796, n_train: 735, 
...

[split_112x96_[0.30:0.50:0.20]_[1]] n_items: 3796, n_train: 1104, n_valid: 1895, n_test: 797, ratio: 0.291: 0.499: 0.210
...

[split_112x96_[0.40:0.40:0.20]_[1]] n_items: 3796, n_train: 1474, n_valid: 1474, n_test: 848, ratio: 0.388: 0.388: 0.223
...

[split_112x96_[0.50:0.30:0.20]_[1]] n_items: 3796, n_train: 1895, n_valid: 1104, n_test: 797, ratio: 0.499: 0.291: 0.210
...

[split_112x96_[0.60:0.20:0.20]_[1]] n_items: 3796, n_train: 2263, n_valid: 704, n_test: 829, ratio: 0.596: 0.185: 0.218
...

[split_112x96_[0.70:0.10:0.20]_[1]] n_items: 3796, n_train: 2633, n_valid: 334, n_test: 829, ratio: 0.694: 0.088: 0.218
...
```

在当前目录下，生成文件夹`split`，其目录结构如下
```
split
└── split_112x96_[比例]_[划分计数]
    ├── note.txt
    ├── test_Multi.txt
    ├── test_RGB.txt
    ├── train_Multi.txt
    ├── train_RGB.txt
    ├── valid_Multi.txt
    └── valid_RGB.txt
```

其中比例形式为`训练集：验证集：测试集`，划分计数为1~5。

- 各比例下进行10次随机划分，依次在比例为以下情况时进行实验；
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_1
>>> main_3_1()      # 训练、测试
>>> main_3_1(True)  # 输出文件到`images`
```

### Multi

acc
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 0.2709999978542328 | 0.559749960899353 | 0.5568534731864929 | 0.7384259104728699 | 0.7769827246665955 | 0.7653763294219971 | 0.8117539882659912 |
| 2 | 0.10999999940395355 | 0.4934999942779541 | 0.6752155423164368 | 0.7291666865348816 | 0.797974169254303 | 0.8496352434158325 | 0.8181365728378296 |
| 3 | 0.20424999296665192 | 0.37049999833106995 | 0.6150861978530884 | 0.6932870149612427 | 0.7307327389717102 | 0.7605686187744141 | 0.8388179540634155 |
| 4 | 0.3634999990463257 | 0.6378333568572998 | 0.5015517473220825 | 0.7546296119689941 | 0.7756034731864929 | 0.8086455464363098 | 0.77088862657547 |
| 5 | 0.1666666567325592 | 0.41208332777023315 | 0.6857327222824097 | 0.7754629850387573 | 0.7629741430282593 | 0.7854360342025757 | 0.7939738035202026 |
| 6 | 0.15008333325386047 | 0.3375000059604645 | 0.6106034517288208 | 0.7048611044883728 | 0.7706034779548645 | 0.8082726001739502 | 0.8168103098869324 |
| 7 | 0.4284999966621399 | 0.4092499911785126 | 0.3978017568588257 | 0.7037037014961243 | 0.7894827127456665 | 0.7686091065406799 | 0.8301557898521423 |
| 8 | 0.18200001120567322 | 0.5616666674613953 | 0.5388362407684326 | 0.7627314925193787 | 0.771853506565094 | 0.8205404281616211 | 0.8448275923728943 |
| 9 | 0.2759999930858612 | 0.30008333921432495 | 0.6041810512542725 | 0.7881944179534912 | 0.7271982431411743 | 0.7698110342025757 | 0.8050397634506226 |
| 10 | 0.12833333015441895 | 0.39500001072883606 | 0.5359482765197754 | 0.7222222089767456 | 0.779224157333374 | 0.8197115659713745 | 0.7771468758583069 |
| average | 0.2280333310365677 | 0.44771666526794435 | 0.5721810460090637 | 0.7372685134410858 | 0.7682629346847534 | 0.795660650730133 | 0.8107551276683808 |

loss
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 3.2289278507232666 | 2.0544815063476562 | 1.963160753250122 | 1.487836241722107 | 1.497024655342102 | 1.7599220275878906 | 1.1811176538467407 |
| 2 | 3.6455414295196533 | 2.1130411624908447 | 1.4585685729980469 | 1.6390678882598877 | 1.0795620679855347 | 0.9385173320770264 | 1.0963704586029053 |
| 3 | 3.671499252319336 | 2.506455183029175 | 2.3841123580932617 | 1.6479219198226929 | 1.6757620573043823 | 1.6705248355865479 | 1.0593615770339966 |
| 4 | 2.732400417327881 | 1.7931513786315918 | 1.8717366456985474 | 1.0893120765686035 | 1.5090388059616089 | 1.4218674898147583 | 1.4786880016326904 |
| 5 | 3.262174129486084 | 2.337635040283203 | 1.8584901094436646 | 1.1539219617843628 | 1.2876020669937134 | 1.4476985931396484 | 1.1241309642791748 |
| 6 | 3.7884442806243896 | 2.4000627994537354 | 1.6614071130752563 | 1.5046242475509644 | 1.4528886079788208 | 1.2691727876663208 | 1.191519856452942 |
| 7 | 2.765063524246216 | 2.2953836917877197 | 2.127274990081787 | 1.5792418718338013 | 1.2278428077697754 | 1.2399609088897705 | 0.9759865403175354 |
| 8 | 3.513725519180298 | 1.9367892742156982 | 2.259281873703003 | 1.3358622789382935 | 1.4865803718566895 | 1.1406867504119873 | 0.852028489112854 |
| 9 | 3.3976376056671143 | 2.6378209590911865 | 1.559416651725769 | 1.1576420068740845 | 1.6651852130889893 | 1.323104977607727 | 1.3554867506027222 |
| 10 | 3.2904739379882812 | 2.4179110527038574 | 2.6605658531188965 | 1.5366156101226807 | 1.1955764293670654 | 0.9999915361404419 | 1.742347240447998 |
| average | 3.329588794708252 | 2.2492732048034667 | 1.9804014921188355 | 1.4132046103477478 | 1.4077063083648682 | 1.3211447238922118 | 1.205703753232956 |

作图如下
![图3.1.1](images/3_1_<figure>_[Multi].png)

### RGB


acc
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 0.2355833500623703 | 0.23608332872390747 | 0.45508620142936707 | 0.4861111044883728 | 0.6340948343276978 | 0.5892738699913025 | 0.622927725315094 |
| 2 | 0.029999999329447746 | 0.2471666783094406 | 0.5130603313446045 | 0.5601851940155029 | 0.5992241501808167 | 0.6462615728378296 | 0.67941814661026 |
| 3 | 0.056333333253860474 | 0.2342499941587448 | 0.34780174493789673 | 0.5254629850387573 | 0.5031896829605103 | 0.6361488699913025 | 0.6575348377227783 |
| 4 | 0.1040833368897438 | 0.2849166691303253 | 0.1901293247938156 | 0.46875 | 0.6113362312316895 | 0.5637848377227783 | 0.594205915927887 |
| 5 | 0.11508332937955856 | 0.24774999916553497 | 0.4544396698474884 | 0.5717592835426331 | 0.5170689821243286 | 0.6891578435897827 | 0.5954078435897827 |
| 6 | 0.05275000259280205 | 0.3099166750907898 | 0.4206896722316742 | 0.5671296119689941 | 0.567844808101654 | 0.6191976070404053 | 0.6276111006736755 |
| 7 | 0.11383333057165146 | 0.1942499876022339 | 0.29530173540115356 | 0.5254629850387573 | 0.5681034326553345 | 0.621974527835846 | 0.5641578435897827 |
| 8 | 0.08541666716337204 | 0.26350000500679016 | 0.33469825983047485 | 0.5219907164573669 | 0.53870689868927 | 0.5940815210342407 | 0.6200679540634155 |
| 9 | 0.06499999761581421 | 0.24908332526683807 | 0.2981896698474884 | 0.4826388955116272 | 0.6112068891525269 | 0.66379314661026 | 0.6450596451759338 |
| 10 | 0.0637499988079071 | 0.22700001299381256 | 0.2725431025028229 | 0.4722222089767456 | 0.5810775756835938 | 0.5856680870056152 | 0.7133206725120544 |
| average | 0.09218333456665277 | 0.24939166754484177 | 0.3581939712166786 | 0.5181712985038758 | 0.5731853485107422 | 0.6209341883659363 | 0.6319711685180665 |

loss
| count/比例 | 0.10: 0.70: 0.2 | 0.20: 0.60: 0.2 | 0.30: 0.50: 0.2 | 0.40: 0.40: 0.2 | 0.50: 0.30: 0.2 | 0.60: 0.20: 0.2 | 0.70: 0.10: 0.2 |
| --------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: | ---------------: |
| 1 | 3.9670355319976807 | 3.0805869102478027 | 3.4377965927124023 | 3.3627817630767822 | 2.162609100341797 | 3.0050508975982666 | 2.643882989883423 |
| 2 | 4.210041046142578 | 3.358847141265869 | 3.3439040184020996 | 3.021275758743286 | 3.1971352100372314 | 2.5639970302581787 | 2.505735158920288 |
| 3 | 4.2547807693481445 | 4.391375541687012 | 2.7874720096588135 | 3.8426637649536133 | 2.9046225547790527 | 2.8061349391937256 | 3.4662327766418457 |
| 4 | 3.5199835300445557 | 4.117164134979248 | 3.0338809490203857 | 2.787790536880493 | 2.745626211166382 | 3.9971559047698975 | 2.59824275970459 |
| 5 | 3.7266640663146973 | 3.0574207305908203 | 3.516650915145874 | 2.650616407394409 | 2.9172513484954834 | 2.147733211517334 | 3.0467190742492676 |
| 6 | 4.172110080718994 | 3.852867364883423 | 3.3969826698303223 | 2.225717782974243 | 3.391103744506836 | 2.6829464435577393 | 3.5142598152160645 |
| 7 | 4.264894008636475 | 3.600917339324951 | 2.977022171020508 | 2.9133472442626953 | 2.628086566925049 | 2.5199410915374756 | 2.9575345516204834 |
| 8 | 4.083675384521484 | 3.5949277877807617 | 3.2587103843688965 | 2.814436435699463 | 2.773996353149414 | 2.948824644088745 | 2.3747751712799072 |
| 9 | 3.7975237369537354 | 3.2840805053710938 | 3.319138765335083 | 3.038895845413208 | 2.8204119205474854 | 1.951639175415039 | 2.0010969638824463 |
| 10 | 3.9289700984954834 | 3.269935369491577 | 3.0672616958618164 | 3.774430274963379 | 2.702028751373291 | 3.217285394668579 | 2.6660194396972656 |
| average | 3.9925678253173826 | 3.5608122825622557 | 3.21388201713562 | 3.0431955814361573 | 2.824287176132202 | 2.784070873260498 | 2.777449870109558 |

作图如下
![图3.1.2](images/3_1_<figure>_[RGB].png)

可知比例为`0.60: 0.20: 0.2`时，效果最佳。

## 3.2 波段对比实验

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 依次选择单个波段的数据进行实验；
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_2
>>> main_3_2()      # 训练、测试
>>> main_3_2(True)  # 输出文件到`images`
```

### Multi

acc
| count/波段索引 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 0.7354525923728943 | 0.7640500664710999 | 0.7328000664710999 | 0.7868865728378296 | 0.7618948817253113 | 0.7735410928726196 | 0.7279923558235168 | 0.7642987370491028 | 0.7521551847457886 | 0.7677801847457886 | 0.7700596451759338 | 0.7461455464363098 | 0.78125 | 0.7689820528030396 | 0.7977038621902466 | 0.7906166911125183 | 0.7415865659713745 | 0.8097231388092041 | 0.7748673558235168 | 0.7653763294219971 | 0.7389339804649353 | 0.7231846451759338 | 0.7795506715774536 | 0.7978282570838928 | 0.7836538553237915 |
| 2 | 0.7990301847457886 | 0.7458968758583069 | 0.7663295269012451 | 0.7906166911125183 | 0.7797994017601013 | 0.7855603098869324 | 0.8221153616905212 | 0.7305205464363098 | 0.7267904281616211 | 0.7519064545631409 | 0.825596809387207 | 0.7257128357887268 | 0.7687333822250366 | 0.7676557898521423 | 0.7400115728378296 | 0.7879641652107239 | 0.7820788621902466 | 0.7882128357887268 | 0.7907410264015198 | 0.8146551847457886 | 0.7580404281616211 | 0.7928962111473083 | 0.7846070528030396 | 0.7785974740982056 | 0.7931448817253113 |
| 3 | 0.8146551847457886 | 0.7186256647109985 | 0.7231846451759338 | 0.7378564476966858 | 0.7341263294219971 | 0.7147712111473083 | 0.7508288621902466 | 0.7568385004997253 | 0.7689820528030396 | 0.7255885004997253 | 0.7593666911125183 | 0.727039098739624 | 0.8265500664710999 | 0.7641744017601013 | 0.7966263294219971 | 0.6980686187744141 | 0.7521551847457886 | 0.7218583822250366 | 0.7352038621902466 | 0.7486737370491028 | 0.75227952003479 | 0.6954160928726196 | 0.7135692834854126 | 0.7449436187744141 | 0.7953000664710999 |
| 4 | 0.7724635004997253 | 0.7974552512168884 | 0.7277437448501587 | 0.7651275992393494 | 0.7699353098869324 | 0.7674071788787842 | 0.7568385004997253 | 0.7433687448501587 | 0.7581647634506226 | 0.7354525923728943 | 0.8144064545631409 | 0.7543103098869324 | 0.7194545269012451 | 0.7830321788787842 | 0.7580404281616211 | 0.8133288621902466 | 0.7932692170143127 | 0.8422994017601013 | 0.8062416911125183 | 0.8433769941329956 | 0.7653763294219971 | 0.7963775992393494 | 0.7592423558235168 | 0.7811256647109985 | 0.7892904281616211 |
| 5 | 0.7651275992393494 | 0.7410891652107239 | 0.7652519941329956 | 0.7059847712516785 | 0.7484250664710999 | 0.7205321788787842 | 0.7193302512168884 | 0.7250912189483643 | 0.7843583822250366 | 0.7278680205345154 | 0.8159814476966858 | 0.6651194095611572 | 0.7930205464363098 | 0.7231846451759338 | 0.7529841065406799 | 0.7858089804649353 | 0.7278680205345154 | 0.7688577175140381 | 0.7749916911125183 | 0.7797994017601013 | 0.7400115728378296 | 0.7998591065406799 | 0.8157327175140381 | 0.6842257976531982 | 0.7425397634506226 |
| 6 | 0.7603199481964111 | 0.7461455464363098 | 0.746974527835846 | 0.7737897634506226 | 0.8011853098869324 | 0.7675314545631409 | 0.8023872375488281 | 0.7735410928726196 | 0.6629641652107239 | 0.7858089804649353 | 0.7543103098869324 | 0.6980686187744141 | 0.7533570528030396 | 0.7724635004997253 | 0.734830915927887 | 0.7919429540634155 | 0.7807525992393494 | 0.8013096451759338 | 0.7568385004997253 | 0.8243948817253113 | 0.6665699481964111 | 0.7822032570838928 | 0.7603199481964111 | 0.7715102434158325 | 0.8122513294219971 |
| 7 | 0.7594910264015198 | 0.658985435962677 | 0.7674071788787842 | 0.7879641652107239 | 0.7990301847457886 | 0.8181365728378296 | 0.7639256715774536 | 0.8059930205345154 | 0.7601956725120544 | 0.7182525992393494 | 0.8034648895263672 | 0.7581647634506226 | 0.7975795269012451 | 0.7903680205345154 | 0.8202918171882629 | 0.7468501329421997 | 0.7723391652107239 | 0.7493783235549927 | 0.7544346451759338 | 0.7926476001739502 | 0.7987814545631409 | 0.7940981388092041 | 0.7243865728378296 | 0.8002320528030396 | 0.7806283235549927 |
| 8 | 0.7197032570838928 | 0.7928962111473083 | 0.7781001329421997 | 0.7652519941329956 | 0.7461455464363098 | 0.7302718758583069 | 0.7438660264015198 | 0.7954244017601013 | 0.7434930205345154 | 0.8206647634506226 | 0.7808769941329956 | 0.7664538621902466 | 0.8301557898521423 | 0.7242622375488281 | 0.7794264554977417 | 0.7822032570838928 | 0.7534814476966858 | 0.7460212111473083 | 0.7448192834854126 | 0.7568385004997253 | 0.7927718758583069 | 0.802635908126831 | 0.7520307898521423 | 0.825099527835846 | 0.7989057898521423 |
| 9 | 0.7315981388092041 | 0.7856846451759338 | 0.7676557898521423 | 0.7545589804649353 | 0.8132045269012451 | 0.7628481388092041 | 0.715724527835846 | 0.7086372375488281 | 0.8168103098869324 | 0.7841097712516785 | 0.8193385004997253 | 0.7953000664710999 | 0.7784731388092041 | 0.8205404281616211 | 0.8097231388092041 | 0.8023872375488281 | 0.7759449481964111 | 0.7785974740982056 | 0.7458968758583069 | 0.8241462111473083 | 0.7628481388092041 | 0.7688577175140381 | 0.7281166911125183 | 0.7915699481964111 | 0.7700596451759338 |
| 10 | 0.7567141652107239 | 0.7879641652107239 | 0.7605686187744141 | 0.8063660264015198 | 0.7686091065406799 | 0.7859333753585815 | 0.7916942834854126 | 0.7904923558235168 | 0.7640500664710999 | 0.715724527835846 | 0.7601956725120544 | 0.7664538621902466 | 0.7807525992393494 | 0.7872596383094788 | 0.7458968758583069 | 0.7650033235549927 | 0.8194628357887268 | 0.7302718758583069 | 0.7388096451759338 | 0.7796750664710999 | 0.8039621710777283 | 0.8071949481964111 | 0.7846070528030396 | 0.771385908126831 | 0.7836538553237915 |
| average | 0.7614555597305298 | 0.7538793027400971 | 0.7536016225814819 | 0.7674403011798858 | 0.7722355663776398 | 0.7626533389091492 | 0.7594703078269959 | 0.7594205856323242 | 0.7537964046001434 | 0.7533156394958496 | 0.7903597414493561 | 0.740276837348938 | 0.7829326629638672 | 0.770192289352417 | 0.7735535502433777 | 0.7764174222946167 | 0.7698938846588135 | 0.7736530005931854 | 0.7622844576835632 | 0.792958390712738 | 0.7579575419425965 | 0.7762723624706268 | 0.7602163136005402 | 0.774651849269867 | 0.7849427938461304 |

loss
| count/波段索引 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 2.5702121257781982 | 1.4034186601638794 | 1.5697879791259766 | 1.3761613368988037 | 1.4109280109405518 | 1.3014321327209473 | 2.0359151363372803 | 1.8014965057373047 | 1.7789902687072754 | 1.30387282371521 | 1.246440052986145 | 1.671557903289795 | 1.0540207624435425 | 1.3511167764663696 | 1.1346180438995361 | 1.5785040855407715 | 1.8119741678237915 | 0.9902088642120361 | 1.1921582221984863 | 1.531606674194336 | 1.539131999015808 | 2.2241976261138916 | 1.084877848625183 | 1.2448970079421997 | 1.319631814956665 |
| 2 | 1.2678650617599487 | 1.7083081007003784 | 1.4741041660308838 | 1.3528618812561035 | 1.3281410932540894 | 1.290221095085144 | 0.949130117893219 | 1.613325595855713 | 1.5136209726333618 | 1.4884403944015503 | 1.0182617902755737 | 2.0432841777801514 | 1.7461798191070557 | 1.30094313621521 | 1.4191159009933472 | 1.4869309663772583 | 1.0722898244857788 | 1.2385438680648804 | 1.3042317628860474 | 1.2332006692886353 | 1.6386440992355347 | 1.0414469242095947 | 1.4320963621139526 | 1.3542017936706543 | 1.043641209602356 |
| 3 | 1.137821078300476 | 2.4804904460906982 | 2.0070273876190186 | 1.478249430656433 | 1.757352590560913 | 2.1610472202301025 | 1.4917341470718384 | 1.3370938301086426 | 1.1879521608352661 | 1.5769010782241821 | 1.307875156402588 | 1.6260019540786743 | 0.9239332675933838 | 1.7475144863128662 | 1.1570734977722168 | 2.7460057735443115 | 1.602442979812622 | 1.7992937564849854 | 1.6140992641448975 | 1.475270390510559 | 1.6802045106887817 | 2.37880277633667 | 1.8937863111495972 | 1.8143727779388428 | 0.9490121006965637 |
| 4 | 1.2505755424499512 | 0.9784629344940186 | 1.7996872663497925 | 1.3261255025863647 | 1.2797505855560303 | 1.4141892194747925 | 1.573483943939209 | 1.4590226411819458 | 1.3683247566223145 | 1.4374325275421143 | 0.8941952586174011 | 1.7264177799224854 | 2.5514273643493652 | 1.2918254137039185 | 1.4644489288330078 | 0.8680115342140198 | 0.9861315488815308 | 0.7930684685707092 | 1.1816226243972778 | 0.7965176105499268 | 1.4545626640319824 | 1.2709280252456665 | 1.2201542854309082 | 1.465813398361206 | 1.02137291431427 |
| 5 | 1.434895634651184 | 1.5462061166763306 | 1.2224177122116089 | 2.3620855808258057 | 1.727048397064209 | 1.6896222829818726 | 1.8186724185943604 | 1.7614003419876099 | 1.3204936981201172 | 1.8726098537445068 | 1.0176403522491455 | 2.829221248626709 | 1.198181390762329 | 1.6613025665283203 | 1.2951213121414185 | 1.3686206340789795 | 2.0921518802642822 | 1.6648871898651123 | 1.3676414489746094 | 1.301273226737976 | 1.7245081663131714 | 1.021927833557129 | 1.0810898542404175 | 2.149951934814453 | 1.7264702320098877 |
| 6 | 1.3134255409240723 | 2.595977306365967 | 1.5010154247283936 | 1.3480745553970337 | 1.237338900566101 | 1.403372883796692 | 0.9382952451705933 | 1.241385817527771 | 3.7602548599243164 | 1.5395747423171997 | 1.5231938362121582 | 1.8252558708190918 | 1.2853209972381592 | 1.0512750148773193 | 2.0231125354766846 | 1.2596831321716309 | 1.3880503177642822 | 1.2645363807678223 | 1.8921693563461304 | 0.8956480622291565 | 3.5674710273742676 | 1.3223004341125488 | 1.5969932079315186 | 1.283475399017334 | 0.9685062766075134 |
| 7 | 1.462486743927002 | 2.5542960166931152 | 1.4503026008605957 | 1.2715264558792114 | 1.133512020111084 | 1.1705901622772217 | 1.2876006364822388 | 1.2372888326644897 | 1.1683579683303833 | 1.904914379119873 | 1.0748502016067505 | 1.6485683917999268 | 1.1339597702026367 | 1.3304232358932495 | 0.8593502044677734 | 1.3876599073410034 | 1.3812768459320068 | 1.365554690361023 | 1.3145983219146729 | 1.1292728185653687 | 1.0771842002868652 | 1.1005064249038696 | 1.6822166442871094 | 1.2715799808502197 | 1.1540547609329224 |
| 8 | 2.1269285678863525 | 1.5340516567230225 | 1.315232515335083 | 1.433039903640747 | 1.5784891843795776 | 1.6436983346939087 | 1.7851696014404297 | 1.150194764137268 | 1.6639792919158936 | 1.1149744987487793 | 1.4105477333068848 | 1.5406849384307861 | 1.0412077903747559 | 1.4946701526641846 | 1.2594560384750366 | 1.9465184211730957 | 1.9948220252990723 | 1.7690545320510864 | 1.9007713794708252 | 1.1797223091125488 | 1.1229971647262573 | 1.1158320903778076 | 1.9360865354537964 | 0.9783101677894592 | 1.0981007814407349 |
| 9 | 2.2374370098114014 | 1.3314045667648315 | 1.2636278867721558 | 1.4500274658203125 | 1.0833271741867065 | 1.199508547782898 | 2.7124078273773193 | 2.500504732131958 | 1.0278798341751099 | 1.0820422172546387 | 1.0395153760910034 | 1.2075581550598145 | 1.273654818534851 | 1.0546835660934448 | 1.2120606899261475 | 1.0956717729568481 | 1.5911133289337158 | 1.8721617460250854 | 1.6198147535324097 | 1.0995116233825684 | 1.4446402788162231 | 1.3514891862869263 | 2.3678858280181885 | 1.1530367136001587 | 1.750062346458435 |
| 10 | 1.473559856414795 | 0.9826148152351379 | 1.532702922821045 | 1.1500636339187622 | 1.3828837871551514 | 1.367043137550354 | 1.195454716682434 | 1.0464287996292114 | 1.3827611207962036 | 1.6843301057815552 | 1.6582380533218384 | 1.510164499282837 | 1.2992422580718994 | 0.9813976883888245 | 1.6044769287109375 | 1.266801118850708 | 1.2125754356384277 | 1.9615658521652222 | 1.6692732572555542 | 1.2403944730758667 | 1.220643401145935 | 1.0484954118728638 | 1.3146847486495972 | 1.5707621574401855 | 1.108034610748291 |
| average | 1.6275207161903382 | 1.711523061990738 | 1.5135905861854553 | 1.4548215746879578 | 1.3918771743774414 | 1.4640725016593934 | 1.5787863790988923 | 1.5148141860961915 | 1.617261493206024 | 1.500509262084961 | 1.2190757811069488 | 1.7628714919090271 | 1.350712823867798 | 1.3265152037143708 | 1.3428834080696106 | 1.5004407346248627 | 1.513282835483551 | 1.4718875348567964 | 1.5056380391120912 | 1.1882417857646943 | 1.6469987511634827 | 1.3875926733016968 | 1.560987162590027 | 1.4286401331424714 | 1.213888704776764 |

作图如下
![图3.2.1](images/3_2_<figure>_[Multi].png)

### RGB

acc
| count/波段索引 | R | G | B |
| ----------: | -: | -: | -: |
| 1 | 0.589398205280304 | 0.6003398299217224 | 0.5530918836593628 |
| 2 | 0.6290616989135742 | 0.4761273264884949 | 0.5906001329421997 |
| 3 | 0.6036969423294067 | 0.555620014667511 | 0.5468335747718811 |
| 4 | 0.5421501994132996 | 0.5734001994132996 | 0.5580238699913025 |
| 5 | 0.5554956793785095 | 0.5954078435897827 | 0.4860328137874603 |
| 6 | 0.5527188181877136 | 0.602495014667511 | 0.5118534564971924 |
| 7 | 0.5736488699913025 | 0.6016660928726196 | 0.5325348377227783 |
| 8 | 0.658985435962677 | 0.5176558494567871 | 0.33803051710128784 |
| 9 | 0.6191976070404053 | 0.5575265288352966 | 0.5480355024337769 |
| 10 | 0.6199436187744141 | 0.5895225405693054 | 0.511480450630188 |
| average | 0.5944297075271606 | 0.566976124048233 | 0.5176517039537429 |

loss
| count/波段索引 | R | G | B |
| ----------: | -: | -: | -: |
| 1 | 2.740489959716797 | 3.095294952392578 | 3.4931371212005615 |
| 2 | 2.7393898963928223 | 3.2378108501434326 | 2.6522862911224365 |
| 3 | 3.4625935554504395 | 2.518115758895874 | 3.2359941005706787 |
| 4 | 2.548192262649536 | 2.907376289367676 | 3.2492563724517822 |
| 5 | 3.377916097640991 | 2.943293333053589 | 3.559067726135254 |
| 6 | 2.8337314128875732 | 2.972339153289795 | 4.030982971191406 |
| 7 | 2.3537681102752686 | 3.3101871013641357 | 3.9205102920532227 |
| 8 | 2.2653255462646484 | 2.8833887577056885 | 2.8467090129852295 |
| 9 | 2.604823589324951 | 2.5767767429351807 | 2.9761648178100586 |
| 10 | 3.416520595550537 | 2.951685905456543 | 3.918877601623535 |
| average | 2.8342751026153565 | 2.9396268844604494 | 3.3882986307144165 |

作图如下
![图3.2.2](images/3_2_<figure>_[RGB].png)

根据图3.2.1.1，按准确率将波段排序，降序排序如下：
``` shell
Generating tables and figures [Multi]...
Best:  [23 19 24 16  7  8 21 13 17  3  1 14 22 11  9 20 15 12  5  6  4 25 18  2
 10]
Generating tables and figures [RGB]...
Best:  [3 1 2]
```

## 3.3 波段组合实验

> 该部分实验仅针对多光谱数据。

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 根据[实验3.2](#32-%e6%b3%a2%e6%ae%b5%e5%af%b9%e6%af%94%e5%ae%9e%e9%aa%8c)得到的最优排序，依次选择最前1, 2, ..., 25个波段进行组合实验；
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；


``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_3
>>> main_3_3()      # 训练、测试
>>> main_3_3(True)  # 输出文件到`images`
```

acc
| count/组合数 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ---------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 0.7796 | 0.7781001329421997 | 0.8266744017601013 | 0.7689820528030396 | 0.8015583753585815 | 0.75227952003479 | 0.7605686187744141 | 0.7737897634506226 | 0.7410891652107239 | 0.8001077175140381 | 0.7616462111473083 | 0.787010908126831 | 0.7640500664710999 | 0.7728365659713745 | 0.8049154281616211 | 0.7533570528030396 | 0.8278763294219971 | 0.8122513294219971 | 0.7546833753585815 | 0.7918186187744141 | 0.7560096383094788 | 0.8158570528030396 | 0.7772712111473083 | 0.7302718758583069 | 0.75 |
| 2 | 0.7846 | 0.7329244017601013 | 0.7811256647109985 | 0.7689820528030396 | 0.7989057898521423 | 0.7928962111473083 | 0.7748673558235168 | 0.7759449481964111 | 0.7294429540634155 | 0.6911057829856873 | 0.7581647634506226 | 0.817307710647583 | 0.7916942834854126 | 0.7712615728378296 | 0.7783488035202026 | 0.7462698817253113 | 0.7796750664710999 | 0.8374916911125183 | 0.7174237370491028 | 0.7930205464363098 | 0.7758206725120544 | 0.802635908126831 | 0.7930205464363098 | 0.7856846451759338 | 0.8050397634506226 |
| 3 | 0.7136 | 0.7135692834854126 | 0.7592423558235168 | 0.7449436187744141 | 0.7386853098869324 | 0.7472231388092041 | 0.7193302512168884 | 0.7834051847457886 | 0.7664538621902466 | 0.7846070528030396 | 0.8111737370491028 | 0.7919429540634155 | 0.8242705464363098 | 0.8292025923728943 | 0.8050397634506226 | 0.6978199481964111 | 0.7963775992393494 | 0.7880885004997253 | 0.7555122375488281 | 0.7134449481964111 | 0.7822032570838928 | 0.8194628357887268 | 0.755760908126831 | 0.6858006715774536 | 0.7483006715774536 |
| 4 | 0.7592 | 0.7628481388092041 | 0.7990301847457886 | 0.83040452003479 | 0.8241462111473083 | 0.7185013294219971 | 0.8001077175140381 | 0.7521551847457886 | 0.8011853098869324 | 0.7218583822250366 | 0.7521551847457886 | 0.7856846451759338 | 0.7807525992393494 | 0.7616462111473083 | 0.7616462111473083 | 0.8170589804649353 | 0.8158570528030396 | 0.7567141652107239 | 0.8193385004997253 | 0.7543103098869324 | 0.7555122375488281 | 0.7820788621902466 | 0.7831564545631409 | 0.8214937448501587 | 0.7665782570838928 |
| 5 | 0.8157 | 0.8712698817253113 | 0.7298988699913025 | 0.7505802512168884 | 0.7906166911125183 | 0.7567141652107239 | 0.7599469423294067 | 0.760071337223053 | 0.7937251329421997 | 0.7458968758583069 | 0.802635908126831 | 0.773914098739624 | 0.7533570528030396 | 0.7330487370491028 | 0.7747430205345154 | 0.8035891652107239 | 0.7830321788787842 | 0.7735410928726196 | 0.7097148895263672 | 0.7546833753585815 | 0.7699353098869324 | 0.77088862657547 | 0.8328083753585815 | 0.7662052512168884 | 0.7844827175140381 |
| 6 | 0.7603 | 0.7807525992393494 | 0.8002320528030396 | 0.7603199481964111 | 0.8132045269012451 | 0.8121269941329956 | 0.7990301847457886 | 0.7939738035202026 | 0.7810013294219971 | 0.8074436187744141 | 0.7330487370491028 | 0.7422910928726196 | 0.778224527835846 | 0.7674071788787842 | 0.8109250664710999 | 0.8202918171882629 | 0.8156083822250366 | 0.7711372375488281 | 0.7460212111473083 | 0.7795506715774536 | 0.7951756715774536 | 0.8231929540634155 | 0.7700596451759338 | 0.7854360342025757 | 0.7317224740982056 |
| 7 | 0.7243999999999999 | 0.7470988035202026 | 0.8194628357887268 | 0.8169346451759338 | 0.75526362657547 | 0.8118783235549927 | 0.7999833822250366 | 0.7844827175140381 | 0.8204160928726196 | 0.7942224740982056 | 0.7591180205345154 | 0.8419264554977417 | 0.8400198817253113 | 0.8204160928726196 | 0.818260908126831 | 0.7748673558235168 | 0.8237732648849487 | 0.8073192834854126 | 0.8313577175140381 | 0.8192141652107239 | 0.7940981388092041 | 0.8013096451759338 | 0.7831564545631409 | 0.7866379618644714 | 0.8134532570838928 |
| 8 | 0.752 | 0.7771468758583069 | 0.7846070528030396 | 0.7133206725120544 | 0.8085212111473083 | 0.7914456725120544 | 0.8071949481964111 | 0.7940981388092041 | 0.8002320528030396 | 0.7594910264015198 | 0.8158570528030396 | 0.8145307898521423 | 0.7521551847457886 | 0.8337615728378296 | 0.8025115728378296 | 0.8133288621902466 | 0.8290782570838928 | 0.833885908126831 | 0.7580404281616211 | 0.8159814476966858 | 0.7975795269012451 | 0.7712615728378296 | 0.8111737370491028 | 0.7868865728378296 | 0.7013014554977417 |
| 9 | 0.7281 | 0.7698110342025757 | 0.7688577175140381 | 0.8265500664710999 | 0.7889174818992615 | 0.8372430205345154 | 0.7758206725120544 | 0.8265500664710999 | 0.7555122375488281 | 0.8479360342025757 | 0.8073192834854126 | 0.7855603098869324 | 0.7723391652107239 | 0.778224527835846 | 0.8073192834854126 | 0.7974552512168884 | 0.8062416911125183 | 0.8010610342025757 | 0.7842341065406799 | 0.762599527835846 | 0.8070706725120544 | 0.8192141652107239 | 0.8154841065406799 | 0.8159814476966858 | 0.8195871710777283 |
| 10 | 0.7846 | 0.7373591065406799 | 0.7539373636245728 | 0.7439903616905212 | 0.7667025923728943 | 0.7185013294219971 | 0.8257211446762085 | 0.7653763294219971 | 0.7361571788787842 | 0.7350795269012451 | 0.8123756647109985 | 0.8003564476966858 | 0.7843583822250366 | 0.7907410264015198 | 0.7229360342025757 | 0.8144064545631409 | 0.825596809387207 | 0.7760692834854126 | 0.7483006715774536 | 0.7807525992393494 | 0.7915699481964111 | 0.7712615728378296 | 0.7701839804649353 | 0.7858089804649353 | 0.7810013294219971 |
| average | 0.7602099999999999 | 0.7670880258083344 | 0.7823068499565125 | 0.7725008189678192 | 0.7886521816253662 | 0.7738809704780578 | 0.7822571218013763 | 0.7809847474098206 | 0.7725215315818786 | 0.7687748491764068 | 0.7813494563102722 | 0.7940525412559509 | 0.7841221690177917 | 0.7858546078205109 | 0.7886646091938019 | 0.7838444769382477 | 0.8103116631507874 | 0.7957559525966644 | 0.7624626874923706 | 0.7765376210212708 | 0.7824975073337554 | 0.7977163195610046 | 0.7892075419425965 | 0.7750207185745239 | 0.7701467096805572 |

loss
| count/组合数 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ---------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 1.0849 | 1.20951247215271 | 0.9960632920265198 | 1.5322537422180176 | 1.258631944656372 | 1.9376261234283447 | 1.5816376209259033 | 1.1761705875396729 | 1.7272322177886963 | 1.3016986846923828 | 1.3131563663482666 | 1.194381833076477 | 1.710888385772705 | 1.0469576120376587 | 1.1002182960510254 | 1.496284008026123 | 0.961020827293396 | 1.3058068752288818 | 1.7707475423812866 | 1.2216929197311401 | 1.8808104991912842 | 1.1077712774276733 | 1.1358418464660645 | 1.859497308731079 | 1.536630630493164 |
| 2 | 1.4321 | 1.9979057312011719 | 1.496315598487854 | 1.6169692277908325 | 1.2652122974395752 | 1.1393916606903076 | 1.7969056367874146 | 1.50722074508667 | 1.8384710550308228 | 2.0945985317230225 | 1.4474904537200928 | 1.0090506076812744 | 1.262257695198059 | 1.5835832357406616 | 1.4172685146331787 | 1.9747251272201538 | 1.4034321308135986 | 0.8865454792976379 | 3.1397976875305176 | 1.1250059604644775 | 1.495529294013977 | 1.0605686902999878 | 1.2720510959625244 | 1.5706489086151123 | 1.2361193895339966 |
| 3 | 1.8938 | 2.2208733558654785 | 1.402435302734375 | 1.441996693611145 | 1.393936038017273 | 1.4148207902908325 | 1.9046173095703125 | 1.1860060691833496 | 1.4815914630889893 | 1.4708378314971924 | 0.953929603099823 | 1.247925043106079 | 0.9726136922836304 | 0.8724625706672668 | 0.983647346496582 | 1.9064476490020752 | 1.3961430788040161 | 1.1707512140274048 | 1.6838068962097168 | 1.9950675964355469 | 1.1010525226593018 | 0.8758286833763123 | 1.6530401706695557 | 2.5086302757263184 | 1.5986053943634033 |
| 4 | 1.2202 | 1.3079190254211426 | 0.9556387662887573 | 0.8178081512451172 | 0.9970594644546509 | 2.173203468322754 | 1.1482161283493042 | 1.636810064315796 | 1.1006470918655396 | 2.695291757583618 | 1.9156687259674072 | 1.3141441345214844 | 1.3436462879180908 | 1.427593469619751 | 1.4349836111068726 | 0.8125513792037964 | 0.9733060002326965 | 1.2821851968765259 | 0.930151104927063 | 1.5918415784835815 | 1.3837673664093018 | 1.265235185623169 | 1.096104383468628 | 1.033073902130127 | 1.5811502933502197 |
| 5 | 1.0811 | 0.7321515679359436 | 1.5946104526519775 | 1.430275559425354 | 1.1846683025360107 | 1.2979881763458252 | 1.343084454536438 | 1.5019280910491943 | 1.1343858242034912 | 1.7227833271026611 | 1.447814702987671 | 1.2943806648254395 | 1.4129201173782349 | 2.2384939193725586 | 1.4613208770751953 | 1.3703070878982544 | 1.3322421312332153 | 1.3691643476486206 | 2.0215325355529785 | 1.3967550992965698 | 1.4293612241744995 | 1.3265050649642944 | 1.035468339920044 | 1.5251091718673706 | 1.1189141273498535 |
| 6 | 1.597 | 1.337653636932373 | 1.0360878705978394 | 1.7308735847473145 | 1.0976319313049316 | 1.1569151878356934 | 1.0349762439727783 | 1.1318378448486328 | 1.0891649723052979 | 0.9212795495986938 | 1.6584913730621338 | 1.5640008449554443 | 1.0540133714675903 | 1.438309907913208 | 1.2049206495285034 | 1.061186671257019 | 1.2471299171447754 | 1.2969263792037964 | 1.7456796169281006 | 1.4302177429199219 | 1.090056300163269 | 1.016083836555481 | 1.4516525268554688 | 1.3178812265396118 | 2.1382856369018555 |
| 7 | 1.6822 | 1.8375422954559326 | 0.9364846348762512 | 1.0179251432418823 | 1.635854959487915 | 1.260295033454895 | 1.471280813217163 | 1.3338881731033325 | 1.025303840637207 | 1.4439271688461304 | 1.4209179878234863 | 0.8507394194602966 | 0.9239965081214905 | 0.9423588514328003 | 1.0819838047027588 | 1.241994857788086 | 1.0450842380523682 | 0.9942581653594971 | 0.871634840965271 | 0.921947717666626 | 1.1385526657104492 | 0.9554742574691772 | 1.334751009941101 | 1.336662769317627 | 1.0646790266036987 |
| 8 | 1.9361 | 1.4223142862319946 | 1.284011960029602 | 1.8943277597427368 | 1.2642065286636353 | 1.2285685539245605 | 1.3941885232925415 | 0.9844095706939697 | 1.2073979377746582 | 1.5433896780014038 | 1.1318047046661377 | 1.0405592918395996 | 1.6615630388259888 | 0.8786675333976746 | 1.1066462993621826 | 1.1125134229660034 | 0.9018529057502747 | 0.9854730367660522 | 1.4675335884094238 | 1.144867181777954 | 1.2991479635238647 | 1.4934051036834717 | 1.1938680410385132 | 1.3733749389648438 | 2.0902693271636963 |
| 9 | 2.3679 | 1.4297394752502441 | 1.3347383737564087 | 1.134124994277954 | 1.1964234113693237 | 0.8202165961265564 | 1.1501208543777466 | 1.0457221269607544 | 2.0647168159484863 | 0.7893014550209045 | 1.2203469276428223 | 1.5522352457046509 | 1.3660426139831543 | 1.3466465473175049 | 1.2386887073516846 | 1.1493055820465088 | 1.0965454578399658 | 1.1984169483184814 | 1.3399639129638672 | 1.3978688716888428 | 0.9468638300895691 | 1.0982863903045654 | 0.9732250571250916 | 0.9936529397964478 | 1.0696938037872314 |
| 10 | 1.3147 | 1.6924331188201904 | 1.5829548835754395 | 1.673750638961792 | 1.4822170734405518 | 2.550248384475708 | 1.076035737991333 | 1.5655760765075684 | 1.9904556274414062 | 1.547139048576355 | 1.3261133432388306 | 1.0942392349243164 | 1.392127513885498 | 1.4500479698181152 | 2.201692819595337 | 0.9519259929656982 | 0.8788669109344482 | 1.5797444581985474 | 1.7054026126861572 | 1.7521007061004639 | 1.4532216787338257 | 1.6234124898910522 | 1.4866286516189575 | 1.2401350736618042 | 1.2816880941390991 |
| average | 1.5610000000000002 | 1.5188044965267182 | 1.2619341135025024 | 1.4290305495262146 | 1.277584195137024 | 1.4979273974895477 | 1.3901063323020935 | 1.306956934928894 | 1.4659366846084594 | 1.5530247032642364 | 1.3835734188556672 | 1.2161656320095062 | 1.3100069224834443 | 1.32251216173172 | 1.323137092590332 | 1.3077241778373718 | 1.1235623598098754 | 1.2069272100925446 | 1.6676250338554381 | 1.3977365374565125 | 1.3218363344669342 | 1.1822570979595184 | 1.263263112306595 | 1.4758666515350343 | 1.4716035723686218 |


作图如下
![图3.3.1](images/3_3_<figure>_[Multi].png)

## 3.4 光谱分辨率实验

> 该部分实验仅针对多光谱数据。

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 依次选择步长为1, 2, ..., 25，进行组合波段实验
- 统计各情况下10次准确率、损失值，并计算均值；
- 做出曲线；

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_4
>>> main_3_4()      # 训练、测试
>>> main_3_4(True)  # 输出文件到`images`
```

acc
| count/波段步长 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 0.7654000000000001 | 0.7882128357887268 | 0.7927718758583069 | 0.8288295269012451 | 0.7689820528030396 | 0.7999833822250366 | 0.7651275992393494 | 0.7748673558235168 | 0.7581647634506226 | 0.7663295269012451 | 0.7699353098869324 | 0.7846070528030396 | 0.7748673558235168 | 0.7820788621902466 | 0.7712615728378296 | 0.7544346451759338 | 0.7412135004997253 | 0.7867622375488281 | 0.7342506647109985 | 0.7195788621902466 | 0.7940981388092041 | 0.7664538621902466 | 0.7668269276618958 | 0.7763179540634155 | 0.7354999999999999 |
| 2 | 0.8495999999999999 | 0.8145307898521423 | 0.8410974740982056 | 0.8025115728378296 | 0.7763179540634155 | 0.7641744017601013 | 0.7760692834854126 | 0.7977038621902466 | 0.7871352434158325 | 0.7067307829856873 | 0.7867622375488281 | 0.8245192170143127 | 0.7822032570838928 | 0.8209134340286255 | 0.8064903616905212 | 0.7436173558235168 | 0.7603199481964111 | 0.8168103098869324 | 0.7185013294219971 | 0.755760908126831 | 0.7581647634506226 | 0.8183852434158325 | 0.7882128357887268 | 0.7675314545631409 | 0.799 |
| 3 | 0.7606 | 0.715724527835846 | 0.7520307898521423 | 0.7206564545631409 | 0.7761936187744141 | 0.7655006647109985 | 0.7436173558235168 | 0.7450679540634155 | 0.7834051847457886 | 0.7485494017601013 | 0.7460212111473083 | 0.7436173558235168 | 0.7763179540634155 | 0.7434930205345154 | 0.7689820528030396 | 0.755760908126831 | 0.7312251329421997 | 0.7306448817253113 | 0.7676557898521423 | 0.7677801847457886 | 0.825596809387207 | 0.7556365728378296 | 0.7136936187744141 | 0.7820788621902466 | 0.8147 |
| 4 | 0.8086 | 0.7879641652107239 | 0.7362814545631409 | 0.7773955464363098 | 0.7770226001739502 | 0.8204160928726196 | 0.8491379618644714 | 0.7617705464363098 | 0.8047910928726196 | 0.7470988035202026 | 0.763096809387207 | 0.7928962111473083 | 0.7859333753585815 | 0.7979525923728943 | 0.8326839804649353 | 0.7882128357887268 | 0.818260908126831 | 0.7776442170143127 | 0.7965019941329956 | 0.7772712111473083 | 0.76790452003479 | 0.7628481388092041 | 0.7965019941329956 | 0.7289456725120544 | 0.7725 |
| 5 | 0.7854000000000001 | 0.77088862657547 | 0.7544346451759338 | 0.7689820528030396 | 0.7497513294219971 | 0.7667025923728943 | 0.7544346451759338 | 0.7231846451759338 | 0.7629724740982056 | 0.7868865728378296 | 0.7744944095611572 | 0.7691064476966858 | 0.7424154281616211 | 0.698317289352417 | 0.7508288621902466 | 0.7846070528030396 | 0.794802725315094 | 0.7748673558235168 | 0.7146468758583069 | 0.80213862657547 | 0.7648789882659912 | 0.7484250664710999 | 0.7376077175140381 | 0.7484250664710999 | 0.7651 |
| 6 | 0.8083 | 0.7759449481964111 | 0.8396468758583069 | 0.8181365728378296 | 0.7723391652107239 | 0.6991462111473083 | 0.7844827175140381 | 0.793849527835846 | 0.8170589804649353 | 0.7663295269012451 | 0.7317224740982056 | 0.7854360342025757 | 0.7450679540634155 | 0.7939738035202026 | 0.7965019941329956 | 0.7627238035202026 | 0.7906166911125183 | 0.773914098739624 | 0.7484250664710999 | 0.8135775923728943 | 0.7880885004997253 | 0.7687333822250366 | 0.7703083753585815 | 0.7062333822250366 | 0.7603 |
| 7 | 0.7686 | 0.8190898895263672 | 0.7894147634506226 | 0.8146551847457886 | 0.6998507976531982 | 0.7651275992393494 | 0.8085212111473083 | 0.7978282570838928 | 0.8675397634506226 | 0.8170589804649353 | 0.7710129618644714 | 0.7927718758583069 | 0.8123756647109985 | 0.7553879618644714 | 0.7432444095611572 | 0.7516578435897827 | 0.7121187448501587 | 0.8267987370491028 | 0.7710129618644714 | 0.8242705464363098 | 0.7830321788787842 | 0.762599527835846 | 0.7854360342025757 | 0.7799237370491028 | 0.7595000000000001 |
| 8 | 0.8205 | 0.7641744017601013 | 0.7940981388092041 | 0.7882128357887268 | 0.7229360342025757 | 0.7722148895263672 | 0.7759449481964111 | 0.7507045269012451 | 0.7808769941329956 | 0.7715102434158325 | 0.7760692834854126 | 0.7328000664710999 | 0.7615218758583069 | 0.8158570528030396 | 0.7470988035202026 | 0.7773955464363098 | 0.7507045269012451 | 0.8013096451759338 | 0.7688577175140381 | 0.7725878357887268 | 0.8001077175140381 | 0.7533570528030396 | 0.7676557898521423 | 0.7700596451759338 | 0.7197 |
| 9 | 0.7698 | 0.7638014554977417 | 0.8347148895263672 | 0.8436256647109985 | 0.7291942834854126 | 0.7854360342025757 | 0.7878398895263672 | 0.8157327175140381 | 0.7928962111473083 | 0.7808769941329956 | 0.8277519941329956 | 0.7315981388092041 | 0.7364057898521423 | 0.7675314545631409 | 0.8362897634506226 | 0.7999833822250366 | 0.7448192834854126 | 0.7930205464363098 | 0.8061173558235168 | 0.7448192834854126 | 0.8050397634506226 | 0.8110494017601013 | 0.7603199481964111 | 0.7894147634506226 | 0.7315999999999999 |
| 10 | 0.8197 | 0.773914098739624 | 0.8219910264015198 | 0.7808769941329956 | 0.7543103098869324 | 0.8156083822250366 | 0.7824519276618958 | 0.7989057898521423 | 0.7975795269012451 | 0.7604442834854126 | 0.7951756715774536 | 0.747471809387207 | 0.7878398895263672 | 0.7534814476966858 | 0.7746187448501587 | 0.8449519276618958 | 0.8097231388092041 | 0.78125 | 0.8226956725120544 | 0.732302725315094 | 0.7558852434158325 | 0.7467257976531982 | 0.7800480723381042 | 0.76790452003479 | 0.7567 |
| average | 0.79565 | 0.7774245738983154 | 0.795648193359375 | 0.7943882405757904 | 0.7526898145675659 | 0.7754310250282288 | 0.7827627539634705 | 0.7759615182876587 | 0.7952420234680175 | 0.7651815116405487 | 0.7742042362689971 | 0.7704824209213257 | 0.7704948544502258 | 0.772898691892624 | 0.7828000545501709 | 0.7763345301151275 | 0.76538046002388 | 0.7863022029399872 | 0.7648665428161621 | 0.7710087776184082 | 0.7842796623706818 | 0.7694214046001434 | 0.7666611313819885 | 0.7616835057735443 | 0.7614600000000001 |

loss
| count/波段步长 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 |
| ----------: | -: | -: | -: | -: | -: | -: | -: | -: | -: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: | --: |
| 1 | 1.7599 | 1.2868307828903198 | 1.0641248226165771 | 1.0114271640777588 | 1.528338074684143 | 1.2064138650894165 | 1.7622319459915161 | 1.4629623889923096 | 1.3917485475540161 | 1.3148443698883057 | 1.8087108135223389 | 1.1724448204040527 | 1.289467453956604 | 1.3094018697738647 | 1.3938014507293701 | 1.2811825275421143 | 1.7687714099884033 | 1.3092255592346191 | 1.8458951711654663 | 1.7965657711029053 | 1.2331182956695557 | 1.4732072353363037 | 1.5397368669509888 | 1.289689302444458 | 2.5702 |
| 2 | 0.9385 | 1.1474463939666748 | 0.9652187824249268 | 1.240093469619751 | 1.6246412992477417 | 1.391249179840088 | 1.2264076471328735 | 1.5108206272125244 | 1.3627194166183472 | 2.893094778060913 | 1.195251703262329 | 0.891532838344574 | 1.4850802421569824 | 1.064192295074463 | 1.2141038179397583 | 1.8728446960449219 | 1.4544309377670288 | 0.9317280054092407 | 1.9763137102127075 | 1.5771992206573486 | 1.7343575954437256 | 1.2417272329330444 | 1.313841462135315 | 1.3236483335494995 | 1.2679 |
| 3 | 1.6705 | 2.5013842582702637 | 1.9802199602127075 | 1.7260664701461792 | 1.3630198240280151 | 1.4539873600006104 | 1.7537263631820679 | 1.6802183389663696 | 1.2756410837173462 | 1.5005754232406616 | 1.3425185680389404 | 1.6377546787261963 | 1.1377534866333008 | 1.365674376487732 | 1.5636235475540161 | 1.4234721660614014 | 1.848026990890503 | 2.447533130645752 | 1.2540887594223022 | 1.3978482484817505 | 1.0140372514724731 | 1.7054702043533325 | 2.341433048248291 | 1.3008079528808594 | 1.1378 |
| 4 | 1.4219 | 1.1701982021331787 | 1.8089231252670288 | 1.251643419265747 | 1.1440190076828003 | 0.935849130153656 | 0.7138497829437256 | 1.3136367797851562 | 1.1568167209625244 | 1.5741307735443115 | 1.5699220895767212 | 1.0924437046051025 | 1.239399790763855 | 1.3571858406066895 | 1.03809654712677 | 1.0262218713760376 | 0.8862600922584534 | 1.0821375846862793 | 0.9687708616256714 | 1.5758960247039795 | 1.3679379224777222 | 1.5131871700286865 | 1.1396924257278442 | 2.178184986114502 | 1.2506 |
| 5 | 1.4477 | 1.3400121927261353 | 1.7310805320739746 | 1.340477466583252 | 1.758177399635315 | 1.2935371398925781 | 1.3899728059768677 | 1.8101457357406616 | 1.5343271493911743 | 1.3557809591293335 | 1.2180495262145996 | 1.2377068996429443 | 1.4024157524108887 | 2.0899977684020996 | 1.7708312273025513 | 1.1808770895004272 | 1.2577152252197266 | 1.2314465045928955 | 2.1366994380950928 | 0.9131110906600952 | 1.2970619201660156 | 1.6974343061447144 | 1.64674973487854 | 1.7461254596710205 | 1.4349 |
| 6 | 1.2692 | 1.1802505254745483 | 0.9139976501464844 | 1.1442748308181763 | 1.540682077407837 | 1.889602541923523 | 1.2016957998275757 | 1.2221142053604126 | 1.0301315784454346 | 1.1824449300765991 | 2.110504627227783 | 1.111814260482788 | 1.492629885673523 | 1.199820637702942 | 1.100326657295227 | 1.3392918109893799 | 1.236046552658081 | 1.362668514251709 | 1.6807305812835693 | 1.0438235998153687 | 1.4408609867095947 | 1.1276799440383911 | 1.784450650215149 | 1.6538560390472412 | 1.3134 |
| 7 | 1.24 | 1.106026291847229 | 1.1167628765106201 | 1.1172213554382324 | 1.6520781517028809 | 1.3885794878005981 | 1.139374017715454 | 1.0918492078781128 | 0.7681542634963989 | 1.0799250602722168 | 1.5420231819152832 | 1.3264853954315186 | 0.8345944285392761 | 1.3546456098556519 | 1.4355664253234863 | 1.4025946855545044 | 1.9885790348052979 | 0.8241698741912842 | 1.778778314590454 | 0.880592405796051 | 1.2898972034454346 | 1.5653316974639893 | 1.2488261461257935 | 1.5657762289047241 | 1.4625 |
| 8 | 1.1407 | 1.222273349761963 | 1.333425760269165 | 1.6387486457824707 | 2.196079969406128 | 1.2181408405303955 | 1.5768558979034424 | 1.72223961353302 | 1.4253710508346558 | 1.5041306018829346 | 1.2658569812774658 | 1.7934210300445557 | 1.7881532907485962 | 1.1169847249984741 | 2.021267890930176 | 1.6122201681137085 | 1.662994623184204 | 1.1726114749908447 | 1.390777349472046 | 1.5190669298171997 | 0.9493590593338013 | 1.8515350818634033 | 1.4439959526062012 | 1.6377335786819458 | 2.1269 |
| 9 | 1.3231 | 1.7588791847229004 | 0.7835788130760193 | 0.9506422877311707 | 1.961113452911377 | 1.0914945602416992 | 1.5187445878982544 | 1.0083887577056885 | 1.1318023204803467 | 1.3604180812835693 | 0.9382418990135193 | 1.694707989692688 | 1.6947379112243652 | 1.3543115854263306 | 0.8305537700653076 | 1.0887207984924316 | 1.9067749977111816 | 1.4086607694625854 | 1.0592159032821655 | 1.926068663597107 | 1.0417917966842651 | 1.0344061851501465 | 1.3279589414596558 | 1.3621430397033691 | 2.2374 |
| 10 | 1.0 | 1.4130648374557495 | 1.167898416519165 | 1.1154868602752686 | 1.5061657428741455 | 0.8373400568962097 | 1.29885733127594 | 1.1724029779434204 | 1.330604076385498 | 1.7324930429458618 | 1.4428640604019165 | 1.6299139261245728 | 1.6479567289352417 | 1.6316297054290771 | 1.5554943084716797 | 0.7952854633331299 | 0.9763891696929932 | 1.4026196002960205 | 0.950065553188324 | 2.4952046871185303 | 1.374603033065796 | 1.7423827648162842 | 1.602341890335083 | 1.4712185859680176 | 1.4736 |
| average | 1.32115 | 1.4126366019248962 | 1.2865230739116669 | 1.2536081969738007 | 1.6274314999580384 | 1.2706194162368774 | 1.3581716179847718 | 1.3994778633117675 | 1.2407316207885741 | 1.5497838020324708 | 1.4433943450450897 | 1.3588225543498993 | 1.4012188971042634 | 1.3843844413757325 | 1.3923665642738343 | 1.3022711277008057 | 1.4985989034175873 | 1.317280101776123 | 1.5041335642337799 | 1.5125376641750337 | 1.2743025064468383 | 1.4952361822128295 | 1.538902711868286 | 1.5529183506965638 | 1.62752 |


作图如下
![图3.4](images/3_4_<figure>_[Multi].png)

## 3.5 鲁棒性实验

- 根据[实验3.1](#31-%e5%88%92%e5%88%86%e6%af%94%e4%be%8b%e7%9a%84%e7%a1%ae%e5%ae%9a)得到的最优划分，在10次随机划分进行实验；
- 选用全部波段进行实验；
- 统计10次实验中，改变条件得到表格；
- 做出曲线

``` shell
cd Ecust/louishsu/recognize_stage_2
python
>>> from main_update_config import main_3_5
>>> main_3_5()      # 训练、测试
>>> main_3_5(True)  # 输出文件到`images`
```

### 3.5.1 干扰种类

统计无干扰、干扰1、干扰2、干扰3下，每次实验的准确率、损失

#### Multi

acc
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 0.7713004350662231 | 0.7843137383460999 | 0.7638190984725952 | 0.738916277885437 |
| 2 | 0.9158878326416016 | 0.8536585569381714 | 0.8445596098899841 | 0.7834101319313049 |
| 3 | 0.7581395506858826 | 0.7926267385482788 | 0.7487437129020691 | 0.7373737096786499 |
| 4 | 0.7836538553237915 | 0.8333333134651184 | 0.8288770318031311 | 0.7901785969734192 |
| 5 | 0.782608687877655 | 0.7979274392127991 | 0.7536945939064026 | 0.807881772518158 |
| 6 | 0.8227272629737854 | 0.7941176295280457 | 0.790243923664093 | 0.824999988079071 |
| 7 | 0.7990654110908508 | 0.772946834564209 | 0.7465437650680542 | 0.753926694393158 |
| 8 | 0.77625572681427 | 0.8350515365600586 | 0.8284313678741455 | 0.8443396091461182 |
| 9 | 0.7722222208976746 | 0.8017621040344238 | 0.7809523940086365 | 0.7216981053352356 |
| 10 | 0.7771739363670349 | 0.8059701323509216 | 0.8238095045089722 | 0.8589743375778198 |
| average | 0.795903491973877 | 0.8071708023548126 | 0.7909675002098083 | 0.7861699223518371 |

loss
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 1.9118068218231201 | 1.699059009552002 | 1.554986834526062 | 1.8774585723876953 |
| 2 | 0.6065924167633057 | 0.9490084052085876 | 0.8108446002006531 | 1.3798937797546387 |
| 3 | 1.6098906993865967 | 1.5571985244750977 | 1.7089624404907227 | 1.8422045707702637 |
| 4 | 1.9842249155044556 | 1.0618343353271484 | 1.3655422925949097 | 1.2866477966308594 |
| 5 | 1.2747846841812134 | 1.3903290033340454 | 1.7146602869033813 | 1.4446815252304077 |
| 6 | 1.156367540359497 | 1.545818567276001 | 1.3807940483093262 | 1.0055325031280518 |
| 7 | 1.0562026500701904 | 1.1387536525726318 | 1.3035560846328735 | 1.49080491065979 |
| 8 | 1.2567758560180664 | 1.0771069526672363 | 1.1608532667160034 | 1.062200903892517 |
| 9 | 1.160076379776001 | 1.25908625125885 | 1.1781690120697021 | 1.665277123451233 |
| 10 | 1.1786777973175049 | 0.8577198386192322 | 1.1102075576782227 | 0.8953640460968018 |
| average | 1.319539976119995 | 1.2535914540290833 | 1.3288576424121856 | 1.395006573200226 |


作图如下
![图3.5.1.1](images/3_5_<figure>_[Multi]_[illum_types].png)

#### RGB

acc
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 0.5246636867523193 | 0.656862735748291 | 0.6331658363342285 | 0.546798050403595 |
| 2 | 0.6168224215507507 | 0.6682927012443542 | 0.6424870491027832 | 0.6543778777122498 |
| 3 | 0.6186046600341797 | 0.6267281174659729 | 0.6633166074752808 | 0.6363636255264282 |
| 4 | 0.4951923191547394 | 0.5666666626930237 | 0.5882353186607361 | 0.6026785969734192 |
| 5 | 0.6826087236404419 | 0.6891191601753235 | 0.6699507236480713 | 0.7142857313156128 |
| 6 | 0.6363636255264282 | 0.5784313678741455 | 0.6634146571159363 | 0.5950000286102295 |
| 7 | 0.6495327353477478 | 0.6038647294044495 | 0.617511510848999 | 0.6125654578208923 |
| 8 | 0.5890411138534546 | 0.6030927896499634 | 0.6225489974021912 | 0.5613207817077637 |
| 9 | 0.6499999761581421 | 0.6828193664550781 | 0.6904761791229248 | 0.6273584961891174 |
| 10 | 0.532608687877655 | 0.6517412662506104 | 0.5666666626930237 | 0.5854700803756714 |
| average | 0.5995437949895859 | 0.6327618896961212 | 0.6357773542404175 | 0.6136218726634979 |

loss
| count/光照 | illum1 | illum2 | illum3 | normal |
| --------: | ------: | ------: | ------: | ------: |
| 1 | 3.2701876163482666 | 2.434255361557007 | 2.800248146057129 | 3.497804641723633 |
| 2 | 2.486541748046875 | 2.397963762283325 | 2.5875864028930664 | 2.8014755249023438 |
| 3 | 2.516329288482666 | 2.6953604221343994 | 2.640336275100708 | 3.4280123710632324 |
| 4 | 4.320362567901611 | 4.636221885681152 | 3.313593626022339 | 3.6898186206817627 |
| 5 | 2.1427979469299316 | 2.4807891845703125 | 2.0634632110595703 | 1.9231728315353394 |
| 6 | 2.2589523792266846 | 2.834406852722168 | 2.221442461013794 | 3.4742658138275146 |
| 7 | 2.640953302383423 | 2.558797836303711 | 2.5836374759674072 | 2.2949419021606445 |
| 8 | 2.920504570007324 | 2.9745986461639404 | 2.4328105449676514 | 3.4632396697998047 |
| 9 | 2.0120863914489746 | 1.9804511070251465 | 1.6457183361053467 | 2.1853973865509033 |
| 10 | 3.0496740341186523 | 3.442809820175171 | 3.2342188358306885 | 3.150097131729126 |
| average | 2.761838984489441 | 2.843565487861633 | 2.55230553150177 | 2.9908225893974305 |

作图如下
![图3.5.1.2](images/3_5_<figure>_[RGB]_[illum_types].png)

### 3.5.2 偏转角度

统计各角度下，每次实验的准确率、损失

#### Multi

acc
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 0.7350427508354187 | 0.8494623899459839 | 0.84375 | 0.6476190686225891 | 0.9081632494926453 | 0.8363636136054993 | 0.6761904954910278 |
| 2 | 0.8482142686843872 | 0.8636363744735718 | 0.8839285969734192 | 0.7591623067855835 | 0.9115044474601746 | 0.9298245906829834 | 0.808080792427063 |
| 3 | 0.7008547186851501 | 0.7837837934494019 | 0.7946428656578064 | 0.6384180784225464 | 0.8857142925262451 | 0.8529411554336548 | 0.7523809671401978 |
| 4 | 0.7647058963775635 | 0.8899082541465759 | 0.8534482717514038 | 0.6460674405097961 | 0.9117646813392639 | 0.8653846383094788 | 0.8305084705352783 |
| 5 | 0.7722772359848022 | 0.8241758346557617 | 0.8409090638160706 | 0.7098445892333984 | 0.9122806787490845 | 0.8571428656578064 | 0.6692307591438293 |
| 6 | 0.75789475440979 | 0.8407079577445984 | 0.9100000262260437 | 0.6685393452644348 | 0.8425925970077515 | 0.920634925365448 | 0.78899085521698 |
| 7 | 0.7575757503509521 | 0.844660222530365 | 0.8834951519966125 | 0.6091370582580566 | 0.8442623019218445 | 0.8440366983413696 | 0.71875 |
| 8 | 0.752212405204773 | 0.8347107172012329 | 0.9217391014099121 | 0.6589595079421997 | 0.9579831957817078 | 0.8865979313850403 | 0.8131868243217468 |
| 9 | 0.7264150977134705 | 0.7878788113594055 | 0.8684210777282715 | 0.6524063944816589 | 0.859649121761322 | 0.8613861203193665 | 0.7129629850387573 |
| 10 | 0.8048780560493469 | 0.875 | 0.9134615659713745 | 0.6864864826202393 | 0.9473684430122375 | 0.8367347121238708 | 0.7526881694793701 |
| average | 0.7620070934295654 | 0.8393924355506897 | 0.8713795721530915 | 0.6676640272140503 | 0.8981283009052277 | 0.8691047251224517 | 0.7522970318794251 |

loss
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 2.1002495288848877 | 1.438583493232727 | 1.2262259721755981 | 2.935471773147583 | 0.6786747574806213 | 0.815438985824585 | 1.8439483642578125 |
| 2 | 1.0427807569503784 | 0.9518938660621643 | 0.6444579362869263 | 1.7006219625473022 | 0.5890639424324036 | 0.2321455031633377 | 0.9060854911804199 |
| 3 | 2.659806251525879 | 0.947240948677063 | 1.2636910676956177 | 2.6519103050231934 | 0.7076479196548462 | 0.6385489106178284 | 2.1160099506378174 |
| 4 | 1.8502506017684937 | 0.629801869392395 | 0.6736916899681091 | 3.3532602787017822 | 0.3929300606250763 | 0.7328631281852722 | 1.106531023979187 |
| 5 | 1.685506820678711 | 1.1449213027954102 | 0.8723421692848206 | 2.489414930343628 | 0.41885071992874146 | 0.6446256041526794 | 1.9329710006713867 |
| 6 | 1.47279691696167 | 0.6383172869682312 | 0.343819260597229 | 3.069955587387085 | 0.7522889375686646 | 0.49659183621406555 | 1.075410008430481 |
| 7 | 1.4322230815887451 | 0.6172358393669128 | 0.4645536243915558 | 2.213364362716675 | 0.5340311527252197 | 0.9691110849380493 | 1.7638808488845825 |
| 8 | 1.4456440210342407 | 0.7778286337852478 | 0.2887769043445587 | 2.4850032329559326 | 0.2351364642381668 | 0.7719354629516602 | 1.3488415479660034 |
| 9 | 1.0842303037643433 | 1.3220677375793457 | 0.6347894668579102 | 2.382858991622925 | 0.7659170031547546 | 0.6920584440231323 | 1.6119835376739502 |
| 10 | 1.0406419038772583 | 0.7705426216125488 | 0.4102778732776642 | 2.0021066665649414 | 0.1834125816822052 | 0.8639852404594421 | 1.0645089149475098 |
| average | 1.5814130187034607 | 0.9238433599472046 | 0.6822625964879989 | 2.5283968091011046 | 0.52579535394907 | 0.6857304200530052 | 1.477017068862915 |

作图如下
![图3.5.2.1](images/3_5_<figure>_[Multi]_[positions].png)

#### RGB

acc
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 0.4615384638309479 | 0.602150559425354 | 0.7395833134651184 | 0.5190476179122925 | 0.7653061151504517 | 0.6818181872367859 | 0.4571428596973419 |
| 2 | 0.5089285969734192 | 0.6931818127632141 | 0.7767857313156128 | 0.5654450058937073 | 0.8053097128868103 | 0.6754385828971863 | 0.5454545617103577 |
| 3 | 0.49572649598121643 | 0.6936936974525452 | 0.7589285969734192 | 0.5141242742538452 | 0.7809523940086365 | 0.7156862616539001 | 0.5809524059295654 |
| 4 | 0.4117647111415863 | 0.60550457239151 | 0.6896551847457886 | 0.449438214302063 | 0.7450980544090271 | 0.6442307829856873 | 0.47457626461982727 |
| 5 | 0.594059407711029 | 0.6813187003135681 | 0.8295454382896423 | 0.5958549380302429 | 0.9122806787490845 | 0.7767857313156128 | 0.5384615659713745 |
| 6 | 0.4842105209827423 | 0.6814159154891968 | 0.7699999809265137 | 0.5224719047546387 | 0.7870370149612427 | 0.7063491940498352 | 0.4220183491706848 |
| 7 | 0.4444444477558136 | 0.6407766938209534 | 0.708737850189209 | 0.5380710363388062 | 0.7786885499954224 | 0.7064220309257507 | 0.5625 |
| 8 | 0.44247788190841675 | 0.6198347210884094 | 0.7217391133308411 | 0.4393063485622406 | 0.7647058963775635 | 0.7319587469100952 | 0.5054945349693298 |
| 9 | 0.4245283007621765 | 0.6363636255264282 | 0.8157894611358643 | 0.6577540040016174 | 0.8421052694320679 | 0.7524752616882324 | 0.5 |
| 10 | 0.38211381435394287 | 0.6428571343421936 | 0.817307710647583 | 0.4378378391265869 | 0.780701756477356 | 0.7142857313156128 | 0.44086021184921265 |
| average | 0.4649792641401291 | 0.6497097432613372 | 0.7628072381019593 | 0.5239351183176041 | 0.7962185442447662 | 0.7105450510978699 | 0.5027460753917694 |

loss
| count/位置 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
| --------: | -: | -: | -: | -: | -: | -: | -: |
| 1 | 3.7750260829925537 | 3.3099782466888428 | 1.408963680267334 | 3.976470708847046 | 2.1188347339630127 | 2.2280445098876953 | 3.053215503692627 |
| 2 | 4.265000343322754 | 1.753989815711975 | 1.4046915769577026 | 3.815946102142334 | 1.2194796800613403 | 1.74789297580719 | 2.7854843139648438 |
| 3 | 3.2085747718811035 | 1.8937443494796753 | 1.0598593950271606 | 6.231753826141357 | 1.1170971393585205 | 1.863623857498169 | 2.0510456562042236 |
| 4 | 4.862539291381836 | 2.1147167682647705 | 1.7244702577590942 | 8.933626174926758 | 1.4212474822998047 | 2.854114532470703 | 3.0500082969665527 |
| 5 | 2.4173824787139893 | 2.43808650970459 | 1.0041673183441162 | 2.760826826095581 | 0.8115078210830688 | 1.3418635129928589 | 3.468419313430786 |
| 6 | 3.729260206222534 | 2.4967100620269775 | 1.0652590990066528 | 3.5519332885742188 | 1.245143175125122 | 1.5306737422943115 | 4.797420978546143 |
| 7 | 2.997537612915039 | 2.2303619384765625 | 1.530517816543579 | 3.871936082839966 | 1.3292776346206665 | 1.6533740758895874 | 3.172197103500366 |
| 8 | 3.6281917095184326 | 1.866903305053711 | 1.2190266847610474 | 6.415624141693115 | 1.0565248727798462 | 1.9265682697296143 | 2.73172926902771 |
| 9 | 3.3597195148468018 | 2.17751145362854 | 0.6943118572235107 | 2.209991693496704 | 0.6237087845802307 | 1.867114782333374 | 2.7484970092773438 |
| 10 | 4.2403082847595215 | 1.9503554105758667 | 1.2204581499099731 | 6.794689655303955 | 0.8032512068748474 | 1.8992024660110474 | 2.8797764778137207 |
| average | 3.6483540296554566 | 2.223235785961151 | 1.2331725835800171 | 4.8562798500061035 | 1.174607253074646 | 1.891247272491455 | 3.0737793922424315 |

作图如下
![图3.5.2.2](images/3_5_<figure>_[RGB]_[positions].png)

### 3.5.3 遮挡实验

统计无眼镜、近视眼镜、太阳镜下，每次实验的准确率、损失

#### Multi

acc
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.9310986995697021 | 0.5190476179122925 | 0.3048780560493469 |
| 2 | 0.9659090638160706 | 0.6605504751205444 | 0.6024096608161926 |
| 3 | 0.9206641912460327 | 0.5115207433700562 | 0.2857142984867096 |
| 4 | 0.9490908980369568 | 0.594059407711029 | 0.3636363744735718 |
| 5 | 0.937381386756897 | 0.5851528644561768 | 0.31506848335266113 |
| 6 | 0.9591836929321289 | 0.6081081032752991 | 0.2647058963775635 |
| 7 | 0.9357798099517822 | 0.5192307829856873 | 0.25 |
| 8 | 0.9657142758369446 | 0.6184210777282715 | 0.42105263471603394 |
| 9 | 0.9270073175430298 | 0.5067873597145081 | 0.30000001192092896 |
| 10 | 0.9433272480964661 | 0.6288659572601318 | 0.46590909361839294 |
| average | 0.9435156583786011 | 0.5751744389533997 | 0.3573374509811401 |

loss
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.3462700843811035 | 3.630403995513916 | 6.2826313972473145 |
| 2 | 0.20754124224185944 | 1.9422376155853271 | 2.979490041732788 |
| 3 | 0.4957267940044403 | 3.488509178161621 | 5.188406467437744 |
| 4 | 0.2756806015968323 | 2.6194188594818115 | 6.474323749542236 |
| 5 | 0.4004882574081421 | 2.4297685623168945 | 5.964469909667969 |
| 6 | 0.1860966831445694 | 2.0494914054870605 | 7.332704067230225 |
| 7 | 0.33390259742736816 | 2.3160669803619385 | 4.811129570007324 |
| 8 | 0.21254678070545197 | 2.1269025802612305 | 4.600955009460449 |
| 9 | 0.32599544525146484 | 2.7271878719329834 | 5.228770732879639 |
| 10 | 0.2716965079307556 | 1.8740746974945068 | 3.6335084438323975 |
| average | 0.30559449940919875 | 2.520406174659729 | 5.249638938903809 |

作图如下
![图3.5.3.1](images/3_5_<figure>_[Multi]_[glass_types].png)

#### RGB

acc
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 0.7467411756515503 | 0.3619047701358795 | 0.13414634764194489 |
| 2 | 0.7708333134651184 | 0.5045871734619141 | 0.21686747670173645 |
| 3 | 0.7804428339004517 | 0.4377880096435547 | 0.12857143580913544 |
| 4 | 0.7400000095367432 | 0.2772277295589447 | 0.051948051899671555 |
| 5 | 0.8159393072128296 | 0.5589519739151001 | 0.1780821979045868 |
| 6 | 0.7625231742858887 | 0.4234234094619751 | 0.11764705926179886 |
| 7 | 0.7816513776779175 | 0.36538460850715637 | 0.17105263471603394 |
| 8 | 0.7714285850524902 | 0.359649121761322 | 0.06578947603702545 |
| 9 | 0.7974452376365662 | 0.4524886906147003 | 0.21666666865348816 |
| 10 | 0.7367458939552307 | 0.37628865242004395 | 0.10227272659540176 |
| average | 0.7703750908374787 | 0.4117694139480591 | 0.13830440752208234 |

loss
| count/眼镜 | 1 | 5 | 6 |
| --------: | -: | -: | -: |
| 1 | 1.425113558769226 | 5.241634845733643 | 7.647731304168701 |
| 2 | 1.4867364168167114 | 3.212266445159912 | 7.780185699462891 |
| 3 | 1.2322335243225098 | 3.0852267742156982 | 14.181615829467773 |
| 4 | 1.669318675994873 | 4.670815944671631 | 18.919132232666016 |
| 5 | 1.2373433113098145 | 3.087848663330078 | 5.777073383331299 |
| 6 | 1.4901782274246216 | 4.334621429443359 | 6.76389217376709 |
| 7 | 1.213112235069275 | 3.787665367126465 | 8.484713554382324 |
| 8 | 1.1976898908615112 | 3.630889892578125 | 13.033319473266602 |
| 9 | 1.2211518287658691 | 2.864997148513794 | 5.304786205291748 |
| 10 | 1.4935593605041504 | 3.6773130893707275 | 12.944067001342773 |
| average | 1.3666437029838563 | 3.7593279600143434 | 10.083651685714722 |

作图如下
![图3.5.3.2](images/3_5_<figure>_[RGB]_[glass_types].png)
